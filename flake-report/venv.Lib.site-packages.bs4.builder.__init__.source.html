<!DOCTYPE html>
<html>
   <head>
      <title>.venv\Lib\site-packages\bs4\builder\__init__.py - flake8 annotated source</title>
      <meta http-equiv="Content-Type" value="text/html; charset=UTF-8">
      <link rel="stylesheet" href="styles.css">
   </head>
   <body>
      <div id="masthead" class="sev-1"></div>
      <div id="page">
         <h1>
            <a href="venv.Lib.site-packages.bs4.builder.__init__.report.html">
               <img src="back.svg" alt="&#x2B05;">
               .venv\Lib\site-packages\bs4\builder\__init__.py source
            </a>
         </h1>

         <div id="doc">
            <div id="l1"
               class="code sev- "><tt><i>1</i> <span class="c1"># Use of this source code is governed by the MIT license.</span></tt>
            </div>
            <div id="l2"
               class="code sev- "><tt><i>2</i> <span class="n">__license__</span> <span class="o">=</span> <span class="s2">&quot;MIT&quot;</span></tt>
            </div>
            <div id="l3"
               class="code sev- "><tt><i>3</i> &nbsp;</tt>
            </div>
            <div id="l4"
               class="code sev- "><tt><i>4</i> <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span></tt>
            </div>
            <div id="l5"
               class="code sev-1  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-1">
                        F401
                     </span>
                     'itertools' imported but unused</li>
               
               </ul><tt><i>5</i> <span class="kn">import</span> <span class="nn">itertools</span></tt>
            </div>
            <div id="l6"
               class="code sev- "><tt><i>6</i> <span class="kn">import</span> <span class="nn">re</span></tt>
            </div>
            <div id="l7"
               class="code sev- "><tt><i>7</i> <span class="kn">import</span> <span class="nn">warnings</span></tt>
            </div>
            <div id="l8"
               class="code sev- "><tt><i>8</i> <span class="kn">import</span> <span class="nn">sys</span></tt>
            </div>
            <div id="l9"
               class="code sev- "><tt><i>9</i> <span class="kn">from</span> <span class="nn">bs4.element</span> <span class="kn">import</span> <span class="p">(</span></tt>
            </div>
            <div id="l10"
               class="code sev- "><tt><i>10</i>     <span class="n">CharsetMetaAttributeValue</span><span class="p">,</span></tt>
            </div>
            <div id="l11"
               class="code sev- "><tt><i>11</i>     <span class="n">ContentMetaAttributeValue</span><span class="p">,</span></tt>
            </div>
            <div id="l12"
               class="code sev- "><tt><i>12</i>     <span class="n">RubyParenthesisString</span><span class="p">,</span></tt>
            </div>
            <div id="l13"
               class="code sev- "><tt><i>13</i>     <span class="n">RubyTextString</span><span class="p">,</span></tt>
            </div>
            <div id="l14"
               class="code sev- "><tt><i>14</i>     <span class="n">Stylesheet</span><span class="p">,</span></tt>
            </div>
            <div id="l15"
               class="code sev- "><tt><i>15</i>     <span class="n">Script</span><span class="p">,</span></tt>
            </div>
            <div id="l16"
               class="code sev- "><tt><i>16</i>     <span class="n">TemplateString</span><span class="p">,</span></tt>
            </div>
            <div id="l17"
               class="code sev- "><tt><i>17</i>     <span class="n">nonwhitespace_re</span></tt>
            </div>
            <div id="l18"
               class="code sev- "><tt><i>18</i> <span class="p">)</span></tt>
            </div>
            <div id="l19"
               class="code sev- "><tt><i>19</i> &nbsp;</tt>
            </div>
            <div id="l20"
               class="code sev- "><tt><i>20</i> <span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span></tt>
            </div>
            <div id="l21"
               class="code sev- "><tt><i>21</i>     <span class="s1">&#39;HTMLTreeBuilder&#39;</span><span class="p">,</span></tt>
            </div>
            <div id="l22"
               class="code sev- "><tt><i>22</i>     <span class="s1">&#39;SAXTreeBuilder&#39;</span><span class="p">,</span></tt>
            </div>
            <div id="l23"
               class="code sev- "><tt><i>23</i>     <span class="s1">&#39;TreeBuilder&#39;</span><span class="p">,</span></tt>
            </div>
            <div id="l24"
               class="code sev- "><tt><i>24</i>     <span class="s1">&#39;TreeBuilderRegistry&#39;</span><span class="p">,</span></tt>
            </div>
            <div id="l25"
               class="code sev- "><tt><i>25</i>     <span class="p">]</span></tt>
            </div>
            <div id="l26"
               class="code sev- "><tt><i>26</i> &nbsp;</tt>
            </div>
            <div id="l27"
               class="code sev- "><tt><i>27</i> <span class="c1"># Some useful features for a TreeBuilder to have.</span></tt>
            </div>
            <div id="l28"
               class="code sev- "><tt><i>28</i> <span class="n">FAST</span> <span class="o">=</span> <span class="s1">&#39;fast&#39;</span></tt>
            </div>
            <div id="l29"
               class="code sev- "><tt><i>29</i> <span class="n">PERMISSIVE</span> <span class="o">=</span> <span class="s1">&#39;permissive&#39;</span></tt>
            </div>
            <div id="l30"
               class="code sev- "><tt><i>30</i> <span class="n">STRICT</span> <span class="o">=</span> <span class="s1">&#39;strict&#39;</span></tt>
            </div>
            <div id="l31"
               class="code sev- "><tt><i>31</i> <span class="n">XML</span> <span class="o">=</span> <span class="s1">&#39;xml&#39;</span></tt>
            </div>
            <div id="l32"
               class="code sev- "><tt><i>32</i> <span class="n">HTML</span> <span class="o">=</span> <span class="s1">&#39;html&#39;</span></tt>
            </div>
            <div id="l33"
               class="code sev- "><tt><i>33</i> <span class="n">HTML_5</span> <span class="o">=</span> <span class="s1">&#39;html5&#39;</span></tt>
            </div>
            <div id="l34"
               class="code sev- "><tt><i>34</i> &nbsp;</tt>
            </div>
            <div id="l35"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E302
                     </span>
                     Expected 2 blank lines, found 1</li>
               
               </ul><tt><i>35</i> <span class="k">class</span> <span class="nc">XMLParsedAsHTMLWarning</span><span class="p">(</span><span class="ne">UserWarning</span><span class="p">):</span></tt>
            </div>
            <div id="l36"
               class="code sev- "><tt><i>36</i> <span class="w">    </span><span class="sd">&quot;&quot;&quot;The warning issued when an HTML parser is used to parse</span></tt>
            </div>
            <div id="l37"
               class="code sev- "><tt><i>37</i> <span class="sd">    XML that is not XHTML.</span></tt>
            </div>
            <div id="l38"
               class="code sev- "><tt><i>38</i> <span class="sd">    &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l39"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E501
                     </span>
                     Line too long (419 > 79 characters)</li>
               
               </ul><tt><i>39</i>     <span class="n">MESSAGE</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;It looks like you&#39;re parsing an XML document using an HTML parser. If this really is an HTML document (maybe it&#39;s XHTML?), you can ignore or filter this warning. If it&#39;s XML, you should know that using an XML parser will be more reliable. To parse this document as XML, make sure you have the lxml package installed, and pass the keyword argument `features=&quot;xml&quot;` into the BeautifulSoup constructor.&quot;&quot;&quot;</span></tt>
            </div>
            <div id="l40"
               class="code sev- "><tt><i>40</i> &nbsp;</tt>
            </div>
            <div id="l41"
               class="code sev- "><tt><i>41</i> &nbsp;</tt>
            </div>
            <div id="l42"
               class="code sev- "><tt><i>42</i> <span class="k">class</span> <span class="nc">TreeBuilderRegistry</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span></tt>
            </div>
            <div id="l43"
               class="code sev- "><tt><i>43</i> <span class="w">    </span><span class="sd">&quot;&quot;&quot;A way of looking up TreeBuilder subclasses by their name or by desired</span></tt>
            </div>
            <div id="l44"
               class="code sev- "><tt><i>44</i> <span class="sd">    features.</span></tt>
            </div>
            <div id="l45"
               class="code sev- "><tt><i>45</i> <span class="sd">    &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l46"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W293
                     </span>
                     Blank line contains whitespace</li>
               
               </ul><tt><i>46</i>     </tt>
            </div>
            <div id="l47"
               class="code sev- "><tt><i>47</i>     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></tt>
            </div>
            <div id="l48"
               class="code sev- "><tt><i>48</i>         <span class="bp">self</span><span class="o">.</span><span class="n">builders_for_feature</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span></tt>
            </div>
            <div id="l49"
               class="code sev- "><tt><i>49</i>         <span class="bp">self</span><span class="o">.</span><span class="n">builders</span> <span class="o">=</span> <span class="p">[]</span></tt>
            </div>
            <div id="l50"
               class="code sev- "><tt><i>50</i> &nbsp;</tt>
            </div>
            <div id="l51"
               class="code sev- "><tt><i>51</i>     <span class="k">def</span> <span class="nf">register</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">treebuilder_class</span><span class="p">):</span></tt>
            </div>
            <div id="l52"
               class="code sev- "><tt><i>52</i> <span class="w">        </span><span class="sd">&quot;&quot;&quot;Register a treebuilder based on its advertised features.</span></tt>
            </div>
            <div id="l53"
               class="code sev- "><tt><i>53</i> &nbsp;</tt>
            </div>
            <div id="l54"
               class="code sev- "><tt><i>54</i> <span class="sd">        :param treebuilder_class: A subclass of Treebuilder. its .features</span></tt>
            </div>
            <div id="l55"
               class="code sev- "><tt><i>55</i> <span class="sd">           attribute should list its features.</span></tt>
            </div>
            <div id="l56"
               class="code sev- "><tt><i>56</i> <span class="sd">        &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l57"
               class="code sev- "><tt><i>57</i>         <span class="k">for</span> <span class="n">feature</span> <span class="ow">in</span> <span class="n">treebuilder_class</span><span class="o">.</span><span class="n">features</span><span class="p">:</span></tt>
            </div>
            <div id="l58"
               class="code sev- "><tt><i>58</i>             <span class="bp">self</span><span class="o">.</span><span class="n">builders_for_feature</span><span class="p">[</span><span class="n">feature</span><span class="p">]</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">treebuilder_class</span><span class="p">)</span></tt>
            </div>
            <div id="l59"
               class="code sev- "><tt><i>59</i>         <span class="bp">self</span><span class="o">.</span><span class="n">builders</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">treebuilder_class</span><span class="p">)</span></tt>
            </div>
            <div id="l60"
               class="code sev- "><tt><i>60</i> &nbsp;</tt>
            </div>
            <div id="l61"
               class="code sev- "><tt><i>61</i>     <span class="k">def</span> <span class="nf">lookup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">features</span><span class="p">):</span></tt>
            </div>
            <div id="l62"
               class="code sev- "><tt><i>62</i> <span class="w">        </span><span class="sd">&quot;&quot;&quot;Look up a TreeBuilder subclass with the desired features.</span></tt>
            </div>
            <div id="l63"
               class="code sev- "><tt><i>63</i> &nbsp;</tt>
            </div>
            <div id="l64"
               class="code sev- "><tt><i>64</i> <span class="sd">        :param features: A list of features to look for. If none are</span></tt>
            </div>
            <div id="l65"
               class="code sev- "><tt><i>65</i> <span class="sd">            provided, the most recently registered TreeBuilder subclass</span></tt>
            </div>
            <div id="l66"
               class="code sev- "><tt><i>66</i> <span class="sd">            will be used.</span></tt>
            </div>
            <div id="l67"
               class="code sev- "><tt><i>67</i> <span class="sd">        :return: A TreeBuilder subclass, or None if there&#39;s no</span></tt>
            </div>
            <div id="l68"
               class="code sev- "><tt><i>68</i> <span class="sd">            registered subclass with all the requested features.</span></tt>
            </div>
            <div id="l69"
               class="code sev- "><tt><i>69</i> <span class="sd">        &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l70"
               class="code sev- "><tt><i>70</i>         <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">builders</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span></tt>
            </div>
            <div id="l71"
               class="code sev- "><tt><i>71</i>             <span class="c1"># There are no builders at all.</span></tt>
            </div>
            <div id="l72"
               class="code sev- "><tt><i>72</i>             <span class="k">return</span> <span class="kc">None</span></tt>
            </div>
            <div id="l73"
               class="code sev- "><tt><i>73</i> &nbsp;</tt>
            </div>
            <div id="l74"
               class="code sev- "><tt><i>74</i>         <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">features</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span></tt>
            </div>
            <div id="l75"
               class="code sev- "><tt><i>75</i>             <span class="c1"># They didn&#39;t ask for any features. Give them the most</span></tt>
            </div>
            <div id="l76"
               class="code sev- "><tt><i>76</i>             <span class="c1"># recently registered builder.</span></tt>
            </div>
            <div id="l77"
               class="code sev- "><tt><i>77</i>             <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">builders</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span></tt>
            </div>
            <div id="l78"
               class="code sev- "><tt><i>78</i> &nbsp;</tt>
            </div>
            <div id="l79"
               class="code sev- "><tt><i>79</i>         <span class="c1"># Go down the list of features in order, and eliminate any builders</span></tt>
            </div>
            <div id="l80"
               class="code sev- "><tt><i>80</i>         <span class="c1"># that don&#39;t match every feature.</span></tt>
            </div>
            <div id="l81"
               class="code sev- "><tt><i>81</i>         <span class="n">features</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">features</span><span class="p">)</span></tt>
            </div>
            <div id="l82"
               class="code sev- "><tt><i>82</i>         <span class="n">features</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span></tt>
            </div>
            <div id="l83"
               class="code sev- "><tt><i>83</i>         <span class="n">candidates</span> <span class="o">=</span> <span class="kc">None</span></tt>
            </div>
            <div id="l84"
               class="code sev- "><tt><i>84</i>         <span class="n">candidate_set</span> <span class="o">=</span> <span class="kc">None</span></tt>
            </div>
            <div id="l85"
               class="code sev- "><tt><i>85</i>         <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">features</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span></tt>
            </div>
            <div id="l86"
               class="code sev- "><tt><i>86</i>             <span class="n">feature</span> <span class="o">=</span> <span class="n">features</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span></tt>
            </div>
            <div id="l87"
               class="code sev- "><tt><i>87</i>             <span class="n">we_have_the_feature</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">builders_for_feature</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">feature</span><span class="p">,</span> <span class="p">[])</span></tt>
            </div>
            <div id="l88"
               class="code sev- "><tt><i>88</i>             <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">we_have_the_feature</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span></tt>
            </div>
            <div id="l89"
               class="code sev- "><tt><i>89</i>                 <span class="k">if</span> <span class="n">candidates</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span></tt>
            </div>
            <div id="l90"
               class="code sev- "><tt><i>90</i>                     <span class="n">candidates</span> <span class="o">=</span> <span class="n">we_have_the_feature</span></tt>
            </div>
            <div id="l91"
               class="code sev- "><tt><i>91</i>                     <span class="n">candidate_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">candidates</span><span class="p">)</span></tt>
            </div>
            <div id="l92"
               class="code sev- "><tt><i>92</i>                 <span class="k">else</span><span class="p">:</span></tt>
            </div>
            <div id="l93"
               class="code sev- "><tt><i>93</i>                     <span class="c1"># Eliminate any candidates that don&#39;t have this feature.</span></tt>
            </div>
            <div id="l94"
               class="code sev- "><tt><i>94</i>                     <span class="n">candidate_set</span> <span class="o">=</span> <span class="n">candidate_set</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span></tt>
            </div>
            <div id="l95"
               class="code sev- "><tt><i>95</i>                         <span class="nb">set</span><span class="p">(</span><span class="n">we_have_the_feature</span><span class="p">))</span></tt>
            </div>
            <div id="l96"
               class="code sev- "><tt><i>96</i> &nbsp;</tt>
            </div>
            <div id="l97"
               class="code sev- "><tt><i>97</i>         <span class="c1"># The only valid candidates are the ones in candidate_set.</span></tt>
            </div>
            <div id="l98"
               class="code sev- "><tt><i>98</i>         <span class="c1"># Go through the original list of candidates and pick the first one</span></tt>
            </div>
            <div id="l99"
               class="code sev- "><tt><i>99</i>         <span class="c1"># that&#39;s in candidate_set.</span></tt>
            </div>
            <div id="l100"
               class="code sev- "><tt><i>100</i>         <span class="k">if</span> <span class="n">candidate_set</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span></tt>
            </div>
            <div id="l101"
               class="code sev- "><tt><i>101</i>             <span class="k">return</span> <span class="kc">None</span></tt>
            </div>
            <div id="l102"
               class="code sev- "><tt><i>102</i>         <span class="k">for</span> <span class="n">candidate</span> <span class="ow">in</span> <span class="n">candidates</span><span class="p">:</span></tt>
            </div>
            <div id="l103"
               class="code sev- "><tt><i>103</i>             <span class="k">if</span> <span class="n">candidate</span> <span class="ow">in</span> <span class="n">candidate_set</span><span class="p">:</span></tt>
            </div>
            <div id="l104"
               class="code sev- "><tt><i>104</i>                 <span class="k">return</span> <span class="n">candidate</span></tt>
            </div>
            <div id="l105"
               class="code sev- "><tt><i>105</i>         <span class="k">return</span> <span class="kc">None</span></tt>
            </div>
            <div id="l106"
               class="code sev- "><tt><i>106</i> &nbsp;</tt>
            </div>
            <div id="l107"
               class="code sev- "><tt><i>107</i> <span class="c1"># The BeautifulSoup class will take feature lists from developers and use them</span></tt>
            </div>
            <div id="l108"
               class="code sev- "><tt><i>108</i> <span class="c1"># to look up builders in this registry.</span></tt>
            </div>
            <div id="l109"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E305
                     </span>
                     Expected 2 blank lines after class or function definition, found 1</li>
               
               </ul><tt><i>109</i> <span class="n">builder_registry</span> <span class="o">=</span> <span class="n">TreeBuilderRegistry</span><span class="p">()</span></tt>
            </div>
            <div id="l110"
               class="code sev- "><tt><i>110</i> &nbsp;</tt>
            </div>
            <div id="l111"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E302
                     </span>
                     Expected 2 blank lines, found 1</li>
               
               </ul><tt><i>111</i> <span class="k">class</span> <span class="nc">TreeBuilder</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span></tt>
            </div>
            <div id="l112"
               class="code sev- "><tt><i>112</i> <span class="w">    </span><span class="sd">&quot;&quot;&quot;Turn a textual document into a Beautiful Soup object tree.&quot;&quot;&quot;</span></tt>
            </div>
            <div id="l113"
               class="code sev- "><tt><i>113</i> &nbsp;</tt>
            </div>
            <div id="l114"
               class="code sev- "><tt><i>114</i>     <span class="n">NAME</span> <span class="o">=</span> <span class="s2">&quot;[Unknown tree builder]&quot;</span></tt>
            </div>
            <div id="l115"
               class="code sev- "><tt><i>115</i>     <span class="n">ALTERNATE_NAMES</span> <span class="o">=</span> <span class="p">[]</span></tt>
            </div>
            <div id="l116"
               class="code sev- "><tt><i>116</i>     <span class="n">features</span> <span class="o">=</span> <span class="p">[]</span></tt>
            </div>
            <div id="l117"
               class="code sev- "><tt><i>117</i> &nbsp;</tt>
            </div>
            <div id="l118"
               class="code sev- "><tt><i>118</i>     <span class="n">is_xml</span> <span class="o">=</span> <span class="kc">False</span></tt>
            </div>
            <div id="l119"
               class="code sev- "><tt><i>119</i>     <span class="n">picklable</span> <span class="o">=</span> <span class="kc">False</span></tt>
            </div>
            <div id="l120"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E261
                     </span>
                     At least two spaces before inline comment</li>
               
               </ul><tt><i>120</i>     <span class="n">empty_element_tags</span> <span class="o">=</span> <span class="kc">None</span> <span class="c1"># A tag will be considered an empty-element</span></tt>
            </div>
            <div id="l121"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E114
                     </span>
                     Indentation is not a multiple of 4 (comment)</li>
               
                  <li>
                     <span class="count sev-2">
                        E116
                     </span>
                     Unexpected indentation (comment)</li>
               
               </ul><tt><i>121</i>                               <span class="c1"># tag when and only when it has no contents.</span></tt>
            </div>
            <div id="l122"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W293
                     </span>
                     Blank line contains whitespace</li>
               
               </ul><tt><i>122</i>     </tt>
            </div>
            <div id="l123"
               class="code sev- "><tt><i>123</i>     <span class="c1"># A value for these tag/attribute combinations is a space- or</span></tt>
            </div>
            <div id="l124"
               class="code sev- "><tt><i>124</i>     <span class="c1"># comma-separated list of CDATA, rather than a single CDATA.</span></tt>
            </div>
            <div id="l125"
               class="code sev- "><tt><i>125</i>     <span class="n">DEFAULT_CDATA_LIST_ATTRIBUTES</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span></tt>
            </div>
            <div id="l126"
               class="code sev- "><tt><i>126</i> &nbsp;</tt>
            </div>
            <div id="l127"
               class="code sev- "><tt><i>127</i>     <span class="c1"># Whitespace should be preserved inside these tags.</span></tt>
            </div>
            <div id="l128"
               class="code sev- "><tt><i>128</i>     <span class="n">DEFAULT_PRESERVE_WHITESPACE_TAGS</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span></tt>
            </div>
            <div id="l129"
               class="code sev- "><tt><i>129</i> &nbsp;</tt>
            </div>
            <div id="l130"
               class="code sev- "><tt><i>130</i>     <span class="c1"># The textual contents of tags with these names should be</span></tt>
            </div>
            <div id="l131"
               class="code sev- "><tt><i>131</i>     <span class="c1"># instantiated with some class other than NavigableString.</span></tt>
            </div>
            <div id="l132"
               class="code sev- "><tt><i>132</i>     <span class="n">DEFAULT_STRING_CONTAINERS</span> <span class="o">=</span> <span class="p">{}</span></tt>
            </div>
            <div id="l133"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W293
                     </span>
                     Blank line contains whitespace</li>
               
               </ul><tt><i>133</i>     </tt>
            </div>
            <div id="l134"
               class="code sev- "><tt><i>134</i>     <span class="n">USE_DEFAULT</span> <span class="o">=</span> <span class="nb">object</span><span class="p">()</span></tt>
            </div>
            <div id="l135"
               class="code sev- "><tt><i>135</i> &nbsp;</tt>
            </div>
            <div id="l136"
               class="code sev- "><tt><i>136</i>     <span class="c1"># Most parsers don&#39;t keep track of line numbers.</span></tt>
            </div>
            <div id="l137"
               class="code sev- "><tt><i>137</i>     <span class="n">TRACKS_LINE_NUMBERS</span> <span class="o">=</span> <span class="kc">False</span></tt>
            </div>
            <div id="l138"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W293
                     </span>
                     Blank line contains whitespace</li>
               
               </ul><tt><i>138</i>     </tt>
            </div>
            <div id="l139"
               class="code sev- "><tt><i>139</i>     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">multi_valued_attributes</span><span class="o">=</span><span class="n">USE_DEFAULT</span><span class="p">,</span></tt>
            </div>
            <div id="l140"
               class="code sev- "><tt><i>140</i>                  <span class="n">preserve_whitespace_tags</span><span class="o">=</span><span class="n">USE_DEFAULT</span><span class="p">,</span></tt>
            </div>
            <div id="l141"
               class="code sev- "><tt><i>141</i>                  <span class="n">store_line_numbers</span><span class="o">=</span><span class="n">USE_DEFAULT</span><span class="p">,</span></tt>
            </div>
            <div id="l142"
               class="code sev- "><tt><i>142</i>                  <span class="n">string_containers</span><span class="o">=</span><span class="n">USE_DEFAULT</span><span class="p">,</span></tt>
            </div>
            <div id="l143"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E124
                     </span>
                     Closing bracket does not match visual indentation</li>
               
               </ul><tt><i>143</i>     <span class="p">):</span></tt>
            </div>
            <div id="l144"
               class="code sev- "><tt><i>144</i> <span class="w">        </span><span class="sd">&quot;&quot;&quot;Constructor.</span></tt>
            </div>
            <div id="l145"
               class="code sev- "><tt><i>145</i> &nbsp;</tt>
            </div>
            <div id="l146"
               class="code sev- "><tt><i>146</i> <span class="sd">        :param multi_valued_attributes: If this is set to None, the</span></tt>
            </div>
            <div id="l147"
               class="code sev- "><tt><i>147</i> <span class="sd">         TreeBuilder will not turn any values for attributes like</span></tt>
            </div>
            <div id="l148"
               class="code sev- "><tt><i>148</i> <span class="sd">         &#39;class&#39; into lists. Setting this to a dictionary will</span></tt>
            </div>
            <div id="l149"
               class="code sev- "><tt><i>149</i> <span class="sd">         customize this behavior; look at DEFAULT_CDATA_LIST_ATTRIBUTES</span></tt>
            </div>
            <div id="l150"
               class="code sev- "><tt><i>150</i> <span class="sd">         for an example.</span></tt>
            </div>
            <div id="l151"
               class="code sev- "><tt><i>151</i> &nbsp;</tt>
            </div>
            <div id="l152"
               class="code sev- "><tt><i>152</i> <span class="sd">         Internally, these are called &quot;CDATA list attributes&quot;, but that</span></tt>
            </div>
            <div id="l153"
               class="code sev- "><tt><i>153</i> <span class="sd">         probably doesn&#39;t make sense to an end-user, so the argument name</span></tt>
            </div>
            <div id="l154"
               class="code sev- "><tt><i>154</i> <span class="sd">         is `multi_valued_attributes`.</span></tt>
            </div>
            <div id="l155"
               class="code sev- "><tt><i>155</i> &nbsp;</tt>
            </div>
            <div id="l156"
               class="code sev- "><tt><i>156</i> <span class="sd">        :param preserve_whitespace_tags: A list of tags to treat</span></tt>
            </div>
            <div id="l157"
               class="code sev- "><tt><i>157</i> <span class="sd">         the way &lt;pre&gt; tags are treated in HTML. Tags in this list</span></tt>
            </div>
            <div id="l158"
               class="code sev- "><tt><i>158</i> <span class="sd">         are immune from pretty-printing; their contents will always be</span></tt>
            </div>
            <div id="l159"
               class="code sev- "><tt><i>159</i> <span class="sd">         output as-is.</span></tt>
            </div>
            <div id="l160"
               class="code sev- "><tt><i>160</i> &nbsp;</tt>
            </div>
            <div id="l161"
               class="code sev- "><tt><i>161</i> <span class="sd">        :param string_containers: A dictionary mapping tag names to</span></tt>
            </div>
            <div id="l162"
               class="code sev- "><tt><i>162</i> <span class="sd">        the classes that should be instantiated to contain the textual</span></tt>
            </div>
            <div id="l163"
               class="code sev- "><tt><i>163</i> <span class="sd">        contents of those tags. The default is to use NavigableString</span></tt>
            </div>
            <div id="l164"
               class="code sev- "><tt><i>164</i> <span class="sd">        for every tag, no matter what the name. You can override the</span></tt>
            </div>
            <div id="l165"
               class="code sev- "><tt><i>165</i> <span class="sd">        default by changing DEFAULT_STRING_CONTAINERS.</span></tt>
            </div>
            <div id="l166"
               class="code sev- "><tt><i>166</i> &nbsp;</tt>
            </div>
            <div id="l167"
               class="code sev- "><tt><i>167</i> <span class="sd">        :param store_line_numbers: If the parser keeps track of the</span></tt>
            </div>
            <div id="l168"
               class="code sev- "><tt><i>168</i> <span class="sd">         line numbers and positions of the original markup, that</span></tt>
            </div>
            <div id="l169"
               class="code sev- "><tt><i>169</i> <span class="sd">         information will, by default, be stored in each corresponding</span></tt>
            </div>
            <div id="l170"
               class="code sev- "><tt><i>170</i> <span class="sd">         `Tag` object. You can turn this off by passing</span></tt>
            </div>
            <div id="l171"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>171</i> <span class="sd">         store_line_numbers=False. If the parser you&#39;re using doesn&#39;t </span></tt>
            </div>
            <div id="l172"
               class="code sev- "><tt><i>172</i> <span class="sd">         keep track of this information, then setting store_line_numbers=True</span></tt>
            </div>
            <div id="l173"
               class="code sev- "><tt><i>173</i> <span class="sd">         will do nothing.</span></tt>
            </div>
            <div id="l174"
               class="code sev- "><tt><i>174</i> <span class="sd">        &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l175"
               class="code sev- "><tt><i>175</i>         <span class="bp">self</span><span class="o">.</span><span class="n">soup</span> <span class="o">=</span> <span class="kc">None</span></tt>
            </div>
            <div id="l176"
               class="code sev- "><tt><i>176</i>         <span class="k">if</span> <span class="n">multi_valued_attributes</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">USE_DEFAULT</span><span class="p">:</span></tt>
            </div>
            <div id="l177"
               class="code sev- "><tt><i>177</i>             <span class="n">multi_valued_attributes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">DEFAULT_CDATA_LIST_ATTRIBUTES</span></tt>
            </div>
            <div id="l178"
               class="code sev- "><tt><i>178</i>         <span class="bp">self</span><span class="o">.</span><span class="n">cdata_list_attributes</span> <span class="o">=</span> <span class="n">multi_valued_attributes</span></tt>
            </div>
            <div id="l179"
               class="code sev- "><tt><i>179</i>         <span class="k">if</span> <span class="n">preserve_whitespace_tags</span> <span class="ow">is</span> <span class="bp">self</span><span class="o">.</span><span class="n">USE_DEFAULT</span><span class="p">:</span></tt>
            </div>
            <div id="l180"
               class="code sev- "><tt><i>180</i>             <span class="n">preserve_whitespace_tags</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">DEFAULT_PRESERVE_WHITESPACE_TAGS</span></tt>
            </div>
            <div id="l181"
               class="code sev- "><tt><i>181</i>         <span class="bp">self</span><span class="o">.</span><span class="n">preserve_whitespace_tags</span> <span class="o">=</span> <span class="n">preserve_whitespace_tags</span></tt>
            </div>
            <div id="l182"
               class="code sev- "><tt><i>182</i>         <span class="k">if</span> <span class="n">store_line_numbers</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">USE_DEFAULT</span><span class="p">:</span></tt>
            </div>
            <div id="l183"
               class="code sev- "><tt><i>183</i>             <span class="n">store_line_numbers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">TRACKS_LINE_NUMBERS</span></tt>
            </div>
            <div id="l184"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>184</i>         <span class="bp">self</span><span class="o">.</span><span class="n">store_line_numbers</span> <span class="o">=</span> <span class="n">store_line_numbers</span> </tt>
            </div>
            <div id="l185"
               class="code sev- "><tt><i>185</i>         <span class="k">if</span> <span class="n">string_containers</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">USE_DEFAULT</span><span class="p">:</span></tt>
            </div>
            <div id="l186"
               class="code sev- "><tt><i>186</i>             <span class="n">string_containers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">DEFAULT_STRING_CONTAINERS</span></tt>
            </div>
            <div id="l187"
               class="code sev- "><tt><i>187</i>         <span class="bp">self</span><span class="o">.</span><span class="n">string_containers</span> <span class="o">=</span> <span class="n">string_containers</span></tt>
            </div>
            <div id="l188"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W293
                     </span>
                     Blank line contains whitespace</li>
               
               </ul><tt><i>188</i>         </tt>
            </div>
            <div id="l189"
               class="code sev- "><tt><i>189</i>     <span class="k">def</span> <span class="nf">initialize_soup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">soup</span><span class="p">):</span></tt>
            </div>
            <div id="l190"
               class="code sev- "><tt><i>190</i> <span class="w">        </span><span class="sd">&quot;&quot;&quot;The BeautifulSoup object has been initialized and is now</span></tt>
            </div>
            <div id="l191"
               class="code sev- "><tt><i>191</i> <span class="sd">        being associated with the TreeBuilder.</span></tt>
            </div>
            <div id="l192"
               class="code sev- "><tt><i>192</i> &nbsp;</tt>
            </div>
            <div id="l193"
               class="code sev- "><tt><i>193</i> <span class="sd">        :param soup: A BeautifulSoup object.</span></tt>
            </div>
            <div id="l194"
               class="code sev- "><tt><i>194</i> <span class="sd">        &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l195"
               class="code sev- "><tt><i>195</i>         <span class="bp">self</span><span class="o">.</span><span class="n">soup</span> <span class="o">=</span> <span class="n">soup</span></tt>
            </div>
            <div id="l196"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W293
                     </span>
                     Blank line contains whitespace</li>
               
               </ul><tt><i>196</i>         </tt>
            </div>
            <div id="l197"
               class="code sev- "><tt><i>197</i>     <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></tt>
            </div>
            <div id="l198"
               class="code sev- "><tt><i>198</i> <span class="w">        </span><span class="sd">&quot;&quot;&quot;Do any work necessary to reset the underlying parser</span></tt>
            </div>
            <div id="l199"
               class="code sev- "><tt><i>199</i> <span class="sd">        for a new document.</span></tt>
            </div>
            <div id="l200"
               class="code sev- "><tt><i>200</i> &nbsp;</tt>
            </div>
            <div id="l201"
               class="code sev- "><tt><i>201</i> <span class="sd">        By default, this does nothing.</span></tt>
            </div>
            <div id="l202"
               class="code sev- "><tt><i>202</i> <span class="sd">        &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l203"
               class="code sev- "><tt><i>203</i>         <span class="k">pass</span></tt>
            </div>
            <div id="l204"
               class="code sev- "><tt><i>204</i> &nbsp;</tt>
            </div>
            <div id="l205"
               class="code sev- "><tt><i>205</i>     <span class="k">def</span> <span class="nf">can_be_empty_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag_name</span><span class="p">):</span></tt>
            </div>
            <div id="l206"
               class="code sev- "><tt><i>206</i> <span class="w">        </span><span class="sd">&quot;&quot;&quot;Might a tag with this name be an empty-element tag?</span></tt>
            </div>
            <div id="l207"
               class="code sev- "><tt><i>207</i> &nbsp;</tt>
            </div>
            <div id="l208"
               class="code sev- "><tt><i>208</i> <span class="sd">        The final markup may or may not actually present this tag as</span></tt>
            </div>
            <div id="l209"
               class="code sev- "><tt><i>209</i> <span class="sd">        self-closing.</span></tt>
            </div>
            <div id="l210"
               class="code sev- "><tt><i>210</i> &nbsp;</tt>
            </div>
            <div id="l211"
               class="code sev- "><tt><i>211</i> <span class="sd">        For instance: an HTMLBuilder does not consider a &lt;p&gt; tag to be</span></tt>
            </div>
            <div id="l212"
               class="code sev- "><tt><i>212</i> <span class="sd">        an empty-element tag (it&#39;s not in</span></tt>
            </div>
            <div id="l213"
               class="code sev- "><tt><i>213</i> <span class="sd">        HTMLBuilder.empty_element_tags). This means an empty &lt;p&gt; tag</span></tt>
            </div>
            <div id="l214"
               class="code sev- "><tt><i>214</i> <span class="sd">        will be presented as &quot;&lt;p&gt;&lt;/p&gt;&quot;, not &quot;&lt;p/&gt;&quot; or &quot;&lt;p&gt;&quot;.</span></tt>
            </div>
            <div id="l215"
               class="code sev- "><tt><i>215</i> &nbsp;</tt>
            </div>
            <div id="l216"
               class="code sev- "><tt><i>216</i> <span class="sd">        The default implementation has no opinion about which tags are</span></tt>
            </div>
            <div id="l217"
               class="code sev- "><tt><i>217</i> <span class="sd">        empty-element tags, so a tag will be presented as an</span></tt>
            </div>
            <div id="l218"
               class="code sev- "><tt><i>218</i> <span class="sd">        empty-element tag if and only if it has no children.</span></tt>
            </div>
            <div id="l219"
               class="code sev- "><tt><i>219</i> <span class="sd">        &quot;&lt;foo&gt;&lt;/foo&gt;&quot; will become &quot;&lt;foo/&gt;&quot;, and &quot;&lt;foo&gt;bar&lt;/foo&gt;&quot; will</span></tt>
            </div>
            <div id="l220"
               class="code sev- "><tt><i>220</i> <span class="sd">        be left alone.</span></tt>
            </div>
            <div id="l221"
               class="code sev- "><tt><i>221</i> &nbsp;</tt>
            </div>
            <div id="l222"
               class="code sev- "><tt><i>222</i> <span class="sd">        :param tag_name: The name of a markup tag.</span></tt>
            </div>
            <div id="l223"
               class="code sev- "><tt><i>223</i> <span class="sd">        &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l224"
               class="code sev- "><tt><i>224</i>         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">empty_element_tags</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span></tt>
            </div>
            <div id="l225"
               class="code sev- "><tt><i>225</i>             <span class="k">return</span> <span class="kc">True</span></tt>
            </div>
            <div id="l226"
               class="code sev- "><tt><i>226</i>         <span class="k">return</span> <span class="n">tag_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">empty_element_tags</span></tt>
            </div>
            <div id="l227"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W293
                     </span>
                     Blank line contains whitespace</li>
               
               </ul><tt><i>227</i>     </tt>
            </div>
            <div id="l228"
               class="code sev- "><tt><i>228</i>     <span class="k">def</span> <span class="nf">feed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">markup</span><span class="p">):</span></tt>
            </div>
            <div id="l229"
               class="code sev- "><tt><i>229</i> <span class="w">        </span><span class="sd">&quot;&quot;&quot;Run some incoming markup through some parsing process,</span></tt>
            </div>
            <div id="l230"
               class="code sev- "><tt><i>230</i> <span class="sd">        populating the `BeautifulSoup` object in self.soup.</span></tt>
            </div>
            <div id="l231"
               class="code sev- "><tt><i>231</i> &nbsp;</tt>
            </div>
            <div id="l232"
               class="code sev- "><tt><i>232</i> <span class="sd">        This method is not implemented in TreeBuilder; it must be</span></tt>
            </div>
            <div id="l233"
               class="code sev- "><tt><i>233</i> <span class="sd">        implemented in subclasses.</span></tt>
            </div>
            <div id="l234"
               class="code sev- "><tt><i>234</i> &nbsp;</tt>
            </div>
            <div id="l235"
               class="code sev- "><tt><i>235</i> <span class="sd">        :return: None.</span></tt>
            </div>
            <div id="l236"
               class="code sev- "><tt><i>236</i> <span class="sd">        &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l237"
               class="code sev- "><tt><i>237</i>         <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></tt>
            </div>
            <div id="l238"
               class="code sev- "><tt><i>238</i> &nbsp;</tt>
            </div>
            <div id="l239"
               class="code sev- "><tt><i>239</i>     <span class="k">def</span> <span class="nf">prepare_markup</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">markup</span><span class="p">,</span> <span class="n">user_specified_encoding</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span></tt>
            </div>
            <div id="l240"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E501
                     </span>
                     Line too long (80 > 79 characters)</li>
               
               </ul><tt><i>240</i>                        <span class="n">document_declared_encoding</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude_encodings</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span></tt>
            </div>
            <div id="l241"
               class="code sev- "><tt><i>241</i> <span class="w">        </span><span class="sd">&quot;&quot;&quot;Run any preliminary steps necessary to make incoming markup</span></tt>
            </div>
            <div id="l242"
               class="code sev- "><tt><i>242</i> <span class="sd">        acceptable to the parser.</span></tt>
            </div>
            <div id="l243"
               class="code sev- "><tt><i>243</i> &nbsp;</tt>
            </div>
            <div id="l244"
               class="code sev- "><tt><i>244</i> <span class="sd">        :param markup: Some markup -- probably a bytestring.</span></tt>
            </div>
            <div id="l245"
               class="code sev- "><tt><i>245</i> <span class="sd">        :param user_specified_encoding: The user asked to try this encoding.</span></tt>
            </div>
            <div id="l246"
               class="code sev- "><tt><i>246</i> <span class="sd">        :param document_declared_encoding: The markup itself claims to be</span></tt>
            </div>
            <div id="l247"
               class="code sev- "><tt><i>247</i> <span class="sd">            in this encoding. NOTE: This argument is not used by the</span></tt>
            </div>
            <div id="l248"
               class="code sev- "><tt><i>248</i> <span class="sd">            calling code and can probably be removed.</span></tt>
            </div>
            <div id="l249"
               class="code sev- "><tt><i>249</i> <span class="sd">        :param exclude_encodings: The user asked _not_ to try any of</span></tt>
            </div>
            <div id="l250"
               class="code sev- "><tt><i>250</i> <span class="sd">            these encodings.</span></tt>
            </div>
            <div id="l251"
               class="code sev- "><tt><i>251</i> &nbsp;</tt>
            </div>
            <div id="l252"
               class="code sev- "><tt><i>252</i> <span class="sd">        :yield: A series of 4-tuples:</span></tt>
            </div>
            <div id="l253"
               class="code sev- "><tt><i>253</i> <span class="sd">         (markup, encoding, declared encoding,</span></tt>
            </div>
            <div id="l254"
               class="code sev- "><tt><i>254</i> <span class="sd">          has undergone character replacement)</span></tt>
            </div>
            <div id="l255"
               class="code sev- "><tt><i>255</i> &nbsp;</tt>
            </div>
            <div id="l256"
               class="code sev- "><tt><i>256</i> <span class="sd">         Each 4-tuple represents a strategy for converting the</span></tt>
            </div>
            <div id="l257"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>257</i> <span class="sd">         document to Unicode and parsing it. Each strategy will be tried </span></tt>
            </div>
            <div id="l258"
               class="code sev- "><tt><i>258</i> <span class="sd">         in turn.</span></tt>
            </div>
            <div id="l259"
               class="code sev- "><tt><i>259</i> &nbsp;</tt>
            </div>
            <div id="l260"
               class="code sev- "><tt><i>260</i> <span class="sd">         By default, the only strategy is to parse the markup</span></tt>
            </div>
            <div id="l261"
               class="code sev- "><tt><i>261</i> <span class="sd">         as-is. See `LXMLTreeBuilderForXML` and</span></tt>
            </div>
            <div id="l262"
               class="code sev- "><tt><i>262</i> <span class="sd">         `HTMLParserTreeBuilder` for implementations that take into</span></tt>
            </div>
            <div id="l263"
               class="code sev- "><tt><i>263</i> <span class="sd">         account the quirks of particular parsers.</span></tt>
            </div>
            <div id="l264"
               class="code sev- "><tt><i>264</i> <span class="sd">        &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l265"
               class="code sev- "><tt><i>265</i>         <span class="k">yield</span> <span class="n">markup</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">False</span></tt>
            </div>
            <div id="l266"
               class="code sev- "><tt><i>266</i> &nbsp;</tt>
            </div>
            <div id="l267"
               class="code sev- "><tt><i>267</i>     <span class="k">def</span> <span class="nf">test_fragment_to_document</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fragment</span><span class="p">):</span></tt>
            </div>
            <div id="l268"
               class="code sev- "><tt><i>268</i> <span class="w">        </span><span class="sd">&quot;&quot;&quot;Wrap an HTML fragment to make it look like a document.</span></tt>
            </div>
            <div id="l269"
               class="code sev- "><tt><i>269</i> &nbsp;</tt>
            </div>
            <div id="l270"
               class="code sev- "><tt><i>270</i> <span class="sd">        Different parsers do this differently. For instance, lxml</span></tt>
            </div>
            <div id="l271"
               class="code sev- "><tt><i>271</i> <span class="sd">        introduces an empty &lt;head&gt; tag, and html5lib</span></tt>
            </div>
            <div id="l272"
               class="code sev- "><tt><i>272</i> <span class="sd">        doesn&#39;t. Abstracting this away lets us write simple tests</span></tt>
            </div>
            <div id="l273"
               class="code sev- "><tt><i>273</i> <span class="sd">        which run HTML fragments through the parser and compare the</span></tt>
            </div>
            <div id="l274"
               class="code sev- "><tt><i>274</i> <span class="sd">        results against other HTML fragments.</span></tt>
            </div>
            <div id="l275"
               class="code sev- "><tt><i>275</i> &nbsp;</tt>
            </div>
            <div id="l276"
               class="code sev- "><tt><i>276</i> <span class="sd">        This method should not be used outside of tests.</span></tt>
            </div>
            <div id="l277"
               class="code sev- "><tt><i>277</i> &nbsp;</tt>
            </div>
            <div id="l278"
               class="code sev- "><tt><i>278</i> <span class="sd">        :param fragment: A string -- fragment of HTML.</span></tt>
            </div>
            <div id="l279"
               class="code sev- "><tt><i>279</i> <span class="sd">        :return: A string -- a full HTML document.</span></tt>
            </div>
            <div id="l280"
               class="code sev- "><tt><i>280</i> <span class="sd">        &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l281"
               class="code sev- "><tt><i>281</i>         <span class="k">return</span> <span class="n">fragment</span></tt>
            </div>
            <div id="l282"
               class="code sev- "><tt><i>282</i> &nbsp;</tt>
            </div>
            <div id="l283"
               class="code sev- "><tt><i>283</i>     <span class="k">def</span> <span class="nf">set_up_substitutions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">):</span></tt>
            </div>
            <div id="l284"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>284</i> <span class="w">        </span><span class="sd">&quot;&quot;&quot;Set up any substitutions that will need to be performed on </span></tt>
            </div>
            <div id="l285"
               class="code sev- "><tt><i>285</i> <span class="sd">        a `Tag` when it&#39;s output as a string.</span></tt>
            </div>
            <div id="l286"
               class="code sev- "><tt><i>286</i> &nbsp;</tt>
            </div>
            <div id="l287"
               class="code sev- "><tt><i>287</i> <span class="sd">        By default, this does nothing. See `HTMLTreeBuilder` for a</span></tt>
            </div>
            <div id="l288"
               class="code sev- "><tt><i>288</i> <span class="sd">        case where this is used.</span></tt>
            </div>
            <div id="l289"
               class="code sev- "><tt><i>289</i> &nbsp;</tt>
            </div>
            <div id="l290"
               class="code sev- "><tt><i>290</i> <span class="sd">        :param tag: A `Tag`</span></tt>
            </div>
            <div id="l291"
               class="code sev- "><tt><i>291</i> <span class="sd">        :return: Whether or not a substitution was performed.</span></tt>
            </div>
            <div id="l292"
               class="code sev- "><tt><i>292</i> <span class="sd">        &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l293"
               class="code sev- "><tt><i>293</i>         <span class="k">return</span> <span class="kc">False</span></tt>
            </div>
            <div id="l294"
               class="code sev- "><tt><i>294</i> &nbsp;</tt>
            </div>
            <div id="l295"
               class="code sev- "><tt><i>295</i>     <span class="k">def</span> <span class="nf">_replace_cdata_list_attribute_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag_name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">):</span></tt>
            </div>
            <div id="l296"
               class="code sev- "><tt><i>296</i> <span class="w">        </span><span class="sd">&quot;&quot;&quot;When an attribute value is associated with a tag that can</span></tt>
            </div>
            <div id="l297"
               class="code sev- "><tt><i>297</i> <span class="sd">        have multiple values for that attribute, convert the string</span></tt>
            </div>
            <div id="l298"
               class="code sev- "><tt><i>298</i> <span class="sd">        value to a list of strings.</span></tt>
            </div>
            <div id="l299"
               class="code sev- "><tt><i>299</i> &nbsp;</tt>
            </div>
            <div id="l300"
               class="code sev- "><tt><i>300</i> <span class="sd">        Basically, replaces class=&quot;foo bar&quot; with class=[&quot;foo&quot;, &quot;bar&quot;]</span></tt>
            </div>
            <div id="l301"
               class="code sev- "><tt><i>301</i> &nbsp;</tt>
            </div>
            <div id="l302"
               class="code sev- "><tt><i>302</i> <span class="sd">        NOTE: This method modifies its input in place.</span></tt>
            </div>
            <div id="l303"
               class="code sev- "><tt><i>303</i> &nbsp;</tt>
            </div>
            <div id="l304"
               class="code sev- "><tt><i>304</i> <span class="sd">        :param tag_name: The name of a tag.</span></tt>
            </div>
            <div id="l305"
               class="code sev- "><tt><i>305</i> <span class="sd">        :param attrs: A dictionary containing the tag&#39;s attributes.</span></tt>
            </div>
            <div id="l306"
               class="code sev- "><tt><i>306</i> <span class="sd">           Any appropriate attribute values will be modified in place.</span></tt>
            </div>
            <div id="l307"
               class="code sev- "><tt><i>307</i> <span class="sd">        &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l308"
               class="code sev- "><tt><i>308</i>         <span class="k">if</span> <span class="ow">not</span> <span class="n">attrs</span><span class="p">:</span></tt>
            </div>
            <div id="l309"
               class="code sev- "><tt><i>309</i>             <span class="k">return</span> <span class="n">attrs</span></tt>
            </div>
            <div id="l310"
               class="code sev- "><tt><i>310</i>         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">cdata_list_attributes</span><span class="p">:</span></tt>
            </div>
            <div id="l311"
               class="code sev- "><tt><i>311</i>             <span class="n">universal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cdata_list_attributes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="p">[])</span></tt>
            </div>
            <div id="l312"
               class="code sev- "><tt><i>312</i>             <span class="n">tag_specific</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cdata_list_attributes</span><span class="o">.</span><span class="n">get</span><span class="p">(</span></tt>
            </div>
            <div id="l313"
               class="code sev- "><tt><i>313</i>                 <span class="n">tag_name</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="kc">None</span><span class="p">)</span></tt>
            </div>
            <div id="l314"
               class="code sev- "><tt><i>314</i>             <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">attrs</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span></tt>
            </div>
            <div id="l315"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E501
                     </span>
                     Line too long (80 > 79 characters)</li>
               
               </ul><tt><i>315</i>                 <span class="k">if</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">universal</span> <span class="ow">or</span> <span class="p">(</span><span class="n">tag_specific</span> <span class="ow">and</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">tag_specific</span><span class="p">):</span></tt>
            </div>
            <div id="l316"
               class="code sev- "><tt><i>316</i>                     <span class="c1"># We have a &quot;class&quot;-type attribute whose string</span></tt>
            </div>
            <div id="l317"
               class="code sev- "><tt><i>317</i>                     <span class="c1"># value is a whitespace-separated list of</span></tt>
            </div>
            <div id="l318"
               class="code sev- "><tt><i>318</i>                     <span class="c1"># values. Split it into a list.</span></tt>
            </div>
            <div id="l319"
               class="code sev- "><tt><i>319</i>                     <span class="n">value</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span></tt>
            </div>
            <div id="l320"
               class="code sev- "><tt><i>320</i>                     <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span></tt>
            </div>
            <div id="l321"
               class="code sev- "><tt><i>321</i>                         <span class="n">values</span> <span class="o">=</span> <span class="n">nonwhitespace_re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></tt>
            </div>
            <div id="l322"
               class="code sev- "><tt><i>322</i>                     <span class="k">else</span><span class="p">:</span></tt>
            </div>
            <div id="l323"
               class="code sev- "><tt><i>323</i>                         <span class="c1"># html5lib sometimes calls setAttributes twice</span></tt>
            </div>
            <div id="l324"
               class="code sev- "><tt><i>324</i>                         <span class="c1"># for the same tag when rearranging the parse</span></tt>
            </div>
            <div id="l325"
               class="code sev- "><tt><i>325</i>                         <span class="c1"># tree. On the second call the attribute value</span></tt>
            </div>
            <div id="l326"
               class="code sev- "><tt><i>326</i>                         <span class="c1"># here is already a list.  If this happens,</span></tt>
            </div>
            <div id="l327"
               class="code sev- "><tt><i>327</i>                         <span class="c1"># leave the value alone rather than trying to</span></tt>
            </div>
            <div id="l328"
               class="code sev- "><tt><i>328</i>                         <span class="c1"># split it again.</span></tt>
            </div>
            <div id="l329"
               class="code sev- "><tt><i>329</i>                         <span class="n">values</span> <span class="o">=</span> <span class="n">value</span></tt>
            </div>
            <div id="l330"
               class="code sev- "><tt><i>330</i>                     <span class="n">attrs</span><span class="p">[</span><span class="n">attr</span><span class="p">]</span> <span class="o">=</span> <span class="n">values</span></tt>
            </div>
            <div id="l331"
               class="code sev- "><tt><i>331</i>         <span class="k">return</span> <span class="n">attrs</span></tt>
            </div>
            <div id="l332"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W293
                     </span>
                     Blank line contains whitespace</li>
               
               </ul><tt><i>332</i>     </tt>
            </div>
            <div id="l333"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E302
                     </span>
                     Expected 2 blank lines, found 1</li>
               
               </ul><tt><i>333</i> <span class="k">class</span> <span class="nc">SAXTreeBuilder</span><span class="p">(</span><span class="n">TreeBuilder</span><span class="p">):</span></tt>
            </div>
            <div id="l334"
               class="code sev- "><tt><i>334</i> <span class="w">    </span><span class="sd">&quot;&quot;&quot;A Beautiful Soup treebuilder that listens for SAX events.</span></tt>
            </div>
            <div id="l335"
               class="code sev- "><tt><i>335</i> &nbsp;</tt>
            </div>
            <div id="l336"
               class="code sev- "><tt><i>336</i> <span class="sd">    This is not currently used for anything, but it demonstrates</span></tt>
            </div>
            <div id="l337"
               class="code sev- "><tt><i>337</i> <span class="sd">    how a simple TreeBuilder would work.</span></tt>
            </div>
            <div id="l338"
               class="code sev- "><tt><i>338</i> <span class="sd">    &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l339"
               class="code sev- "><tt><i>339</i> &nbsp;</tt>
            </div>
            <div id="l340"
               class="code sev- "><tt><i>340</i>     <span class="k">def</span> <span class="nf">feed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">markup</span><span class="p">):</span></tt>
            </div>
            <div id="l341"
               class="code sev- "><tt><i>341</i>         <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span></tt>
            </div>
            <div id="l342"
               class="code sev- "><tt><i>342</i> &nbsp;</tt>
            </div>
            <div id="l343"
               class="code sev- "><tt><i>343</i>     <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></tt>
            </div>
            <div id="l344"
               class="code sev- "><tt><i>344</i>         <span class="k">pass</span></tt>
            </div>
            <div id="l345"
               class="code sev- "><tt><i>345</i> &nbsp;</tt>
            </div>
            <div id="l346"
               class="code sev- "><tt><i>346</i>     <span class="k">def</span> <span class="nf">startElement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">):</span></tt>
            </div>
            <div id="l347"
               class="code sev- "><tt><i>347</i>         <span class="n">attrs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">((</span><span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">attrs</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span></tt>
            </div>
            <div id="l348"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E265
                     </span>
                     Block comment should start with '# '</li>
               
               </ul><tt><i>348</i>         <span class="c1">#print(&quot;Start %s, %r&quot; % (name, attrs))</span></tt>
            </div>
            <div id="l349"
               class="code sev- "><tt><i>349</i>         <span class="bp">self</span><span class="o">.</span><span class="n">soup</span><span class="o">.</span><span class="n">handle_starttag</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">attrs</span><span class="p">)</span></tt>
            </div>
            <div id="l350"
               class="code sev- "><tt><i>350</i> &nbsp;</tt>
            </div>
            <div id="l351"
               class="code sev- "><tt><i>351</i>     <span class="k">def</span> <span class="nf">endElement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span></tt>
            </div>
            <div id="l352"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E265
                     </span>
                     Block comment should start with '# '</li>
               
               </ul><tt><i>352</i>         <span class="c1">#print(&quot;End %s&quot; % name)</span></tt>
            </div>
            <div id="l353"
               class="code sev- "><tt><i>353</i>         <span class="bp">self</span><span class="o">.</span><span class="n">soup</span><span class="o">.</span><span class="n">handle_endtag</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></tt>
            </div>
            <div id="l354"
               class="code sev- "><tt><i>354</i> &nbsp;</tt>
            </div>
            <div id="l355"
               class="code sev- "><tt><i>355</i>     <span class="k">def</span> <span class="nf">startElementNS</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nsTuple</span><span class="p">,</span> <span class="n">nodeName</span><span class="p">,</span> <span class="n">attrs</span><span class="p">):</span></tt>
            </div>
            <div id="l356"
               class="code sev- "><tt><i>356</i>         <span class="c1"># Throw away (ns, nodeName) for now.</span></tt>
            </div>
            <div id="l357"
               class="code sev- "><tt><i>357</i>         <span class="bp">self</span><span class="o">.</span><span class="n">startElement</span><span class="p">(</span><span class="n">nodeName</span><span class="p">,</span> <span class="n">attrs</span><span class="p">)</span></tt>
            </div>
            <div id="l358"
               class="code sev- "><tt><i>358</i> &nbsp;</tt>
            </div>
            <div id="l359"
               class="code sev- "><tt><i>359</i>     <span class="k">def</span> <span class="nf">endElementNS</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nsTuple</span><span class="p">,</span> <span class="n">nodeName</span><span class="p">):</span></tt>
            </div>
            <div id="l360"
               class="code sev- "><tt><i>360</i>         <span class="c1"># Throw away (ns, nodeName) for now.</span></tt>
            </div>
            <div id="l361"
               class="code sev- "><tt><i>361</i>         <span class="bp">self</span><span class="o">.</span><span class="n">endElement</span><span class="p">(</span><span class="n">nodeName</span><span class="p">)</span></tt>
            </div>
            <div id="l362"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E265
                     </span>
                     Block comment should start with '# '</li>
               
               </ul><tt><i>362</i>         <span class="c1">#handler.endElementNS((ns, node.nodeName), node.nodeName)</span></tt>
            </div>
            <div id="l363"
               class="code sev- "><tt><i>363</i> &nbsp;</tt>
            </div>
            <div id="l364"
               class="code sev- "><tt><i>364</i>     <span class="k">def</span> <span class="nf">startPrefixMapping</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">,</span> <span class="n">nodeValue</span><span class="p">):</span></tt>
            </div>
            <div id="l365"
               class="code sev- "><tt><i>365</i>         <span class="c1"># Ignore the prefix for now.</span></tt>
            </div>
            <div id="l366"
               class="code sev- "><tt><i>366</i>         <span class="k">pass</span></tt>
            </div>
            <div id="l367"
               class="code sev- "><tt><i>367</i> &nbsp;</tt>
            </div>
            <div id="l368"
               class="code sev- "><tt><i>368</i>     <span class="k">def</span> <span class="nf">endPrefixMapping</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span></tt>
            </div>
            <div id="l369"
               class="code sev- "><tt><i>369</i>         <span class="c1"># Ignore the prefix for now.</span></tt>
            </div>
            <div id="l370"
               class="code sev- "><tt><i>370</i>         <span class="c1"># handler.endPrefixMapping(prefix)</span></tt>
            </div>
            <div id="l371"
               class="code sev- "><tt><i>371</i>         <span class="k">pass</span></tt>
            </div>
            <div id="l372"
               class="code sev- "><tt><i>372</i> &nbsp;</tt>
            </div>
            <div id="l373"
               class="code sev- "><tt><i>373</i>     <span class="k">def</span> <span class="nf">characters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">content</span><span class="p">):</span></tt>
            </div>
            <div id="l374"
               class="code sev- "><tt><i>374</i>         <span class="bp">self</span><span class="o">.</span><span class="n">soup</span><span class="o">.</span><span class="n">handle_data</span><span class="p">(</span><span class="n">content</span><span class="p">)</span></tt>
            </div>
            <div id="l375"
               class="code sev- "><tt><i>375</i> &nbsp;</tt>
            </div>
            <div id="l376"
               class="code sev- "><tt><i>376</i>     <span class="k">def</span> <span class="nf">startDocument</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></tt>
            </div>
            <div id="l377"
               class="code sev- "><tt><i>377</i>         <span class="k">pass</span></tt>
            </div>
            <div id="l378"
               class="code sev- "><tt><i>378</i> &nbsp;</tt>
            </div>
            <div id="l379"
               class="code sev- "><tt><i>379</i>     <span class="k">def</span> <span class="nf">endDocument</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></tt>
            </div>
            <div id="l380"
               class="code sev- "><tt><i>380</i>         <span class="k">pass</span></tt>
            </div>
            <div id="l381"
               class="code sev- "><tt><i>381</i> &nbsp;</tt>
            </div>
            <div id="l382"
               class="code sev- "><tt><i>382</i> &nbsp;</tt>
            </div>
            <div id="l383"
               class="code sev- "><tt><i>383</i> <span class="k">class</span> <span class="nc">HTMLTreeBuilder</span><span class="p">(</span><span class="n">TreeBuilder</span><span class="p">):</span></tt>
            </div>
            <div id="l384"
               class="code sev- "><tt><i>384</i> <span class="w">    </span><span class="sd">&quot;&quot;&quot;This TreeBuilder knows facts about HTML.</span></tt>
            </div>
            <div id="l385"
               class="code sev- "><tt><i>385</i> &nbsp;</tt>
            </div>
            <div id="l386"
               class="code sev- "><tt><i>386</i> <span class="sd">    Such as which tags are empty-element tags.</span></tt>
            </div>
            <div id="l387"
               class="code sev- "><tt><i>387</i> <span class="sd">    &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l388"
               class="code sev- "><tt><i>388</i> &nbsp;</tt>
            </div>
            <div id="l389"
               class="code sev- "><tt><i>389</i>     <span class="n">empty_element_tags</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span></tt>
            </div>
            <div id="l390"
               class="code sev- "><tt><i>390</i>         <span class="c1"># These are from HTML5.</span></tt>
            </div>
            <div id="l391"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E501
                     </span>
                     Line too long (140 > 79 characters)</li>
               
               </ul><tt><i>391</i>         <span class="s1">&#39;area&#39;</span><span class="p">,</span> <span class="s1">&#39;base&#39;</span><span class="p">,</span> <span class="s1">&#39;br&#39;</span><span class="p">,</span> <span class="s1">&#39;col&#39;</span><span class="p">,</span> <span class="s1">&#39;embed&#39;</span><span class="p">,</span> <span class="s1">&#39;hr&#39;</span><span class="p">,</span> <span class="s1">&#39;img&#39;</span><span class="p">,</span> <span class="s1">&#39;input&#39;</span><span class="p">,</span> <span class="s1">&#39;keygen&#39;</span><span class="p">,</span> <span class="s1">&#39;link&#39;</span><span class="p">,</span> <span class="s1">&#39;menuitem&#39;</span><span class="p">,</span> <span class="s1">&#39;meta&#39;</span><span class="p">,</span> <span class="s1">&#39;param&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">,</span> <span class="s1">&#39;track&#39;</span><span class="p">,</span> <span class="s1">&#39;wbr&#39;</span><span class="p">,</span></tt>
            </div>
            <div id="l392"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W293
                     </span>
                     Blank line contains whitespace</li>
               
               </ul><tt><i>392</i>         </tt>
            </div>
            <div id="l393"
               class="code sev- "><tt><i>393</i>         <span class="c1"># These are from earlier versions of HTML and are removed in HTML5.</span></tt>
            </div>
            <div id="l394"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E501
                     </span>
                     Line too long (89 > 79 characters)</li>
               
               </ul><tt><i>394</i>         <span class="s1">&#39;basefont&#39;</span><span class="p">,</span> <span class="s1">&#39;bgsound&#39;</span><span class="p">,</span> <span class="s1">&#39;command&#39;</span><span class="p">,</span> <span class="s1">&#39;frame&#39;</span><span class="p">,</span> <span class="s1">&#39;image&#39;</span><span class="p">,</span> <span class="s1">&#39;isindex&#39;</span><span class="p">,</span> <span class="s1">&#39;nextid&#39;</span><span class="p">,</span> <span class="s1">&#39;spacer&#39;</span></tt>
            </div>
            <div id="l395"
               class="code sev- "><tt><i>395</i>     <span class="p">])</span></tt>
            </div>
            <div id="l396"
               class="code sev- "><tt><i>396</i> &nbsp;</tt>
            </div>
            <div id="l397"
               class="code sev- "><tt><i>397</i>     <span class="c1"># The HTML standard defines these as block-level elements. Beautiful</span></tt>
            </div>
            <div id="l398"
               class="code sev- "><tt><i>398</i>     <span class="c1"># Soup does not treat these elements differently from other elements,</span></tt>
            </div>
            <div id="l399"
               class="code sev- "><tt><i>399</i>     <span class="c1"># but it may do so eventually, and this information is available if</span></tt>
            </div>
            <div id="l400"
               class="code sev- "><tt><i>400</i>     <span class="c1"># you need to use it.</span></tt>
            </div>
            <div id="l401"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E501
                     </span>
                     Line too long (317 > 79 characters)</li>
               
               </ul><tt><i>401</i>     <span class="n">block_elements</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="s2">&quot;address&quot;</span><span class="p">,</span> <span class="s2">&quot;article&quot;</span><span class="p">,</span> <span class="s2">&quot;aside&quot;</span><span class="p">,</span> <span class="s2">&quot;blockquote&quot;</span><span class="p">,</span> <span class="s2">&quot;canvas&quot;</span><span class="p">,</span> <span class="s2">&quot;dd&quot;</span><span class="p">,</span> <span class="s2">&quot;div&quot;</span><span class="p">,</span> <span class="s2">&quot;dl&quot;</span><span class="p">,</span> <span class="s2">&quot;dt&quot;</span><span class="p">,</span> <span class="s2">&quot;fieldset&quot;</span><span class="p">,</span> <span class="s2">&quot;figcaption&quot;</span><span class="p">,</span> <span class="s2">&quot;figure&quot;</span><span class="p">,</span> <span class="s2">&quot;footer&quot;</span><span class="p">,</span> <span class="s2">&quot;form&quot;</span><span class="p">,</span> <span class="s2">&quot;h1&quot;</span><span class="p">,</span> <span class="s2">&quot;h2&quot;</span><span class="p">,</span> <span class="s2">&quot;h3&quot;</span><span class="p">,</span> <span class="s2">&quot;h4&quot;</span><span class="p">,</span> <span class="s2">&quot;h5&quot;</span><span class="p">,</span> <span class="s2">&quot;h6&quot;</span><span class="p">,</span> <span class="s2">&quot;header&quot;</span><span class="p">,</span> <span class="s2">&quot;hr&quot;</span><span class="p">,</span> <span class="s2">&quot;li&quot;</span><span class="p">,</span> <span class="s2">&quot;main&quot;</span><span class="p">,</span> <span class="s2">&quot;nav&quot;</span><span class="p">,</span> <span class="s2">&quot;noscript&quot;</span><span class="p">,</span> <span class="s2">&quot;ol&quot;</span><span class="p">,</span> <span class="s2">&quot;output&quot;</span><span class="p">,</span> <span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="s2">&quot;pre&quot;</span><span class="p">,</span> <span class="s2">&quot;section&quot;</span><span class="p">,</span> <span class="s2">&quot;table&quot;</span><span class="p">,</span> <span class="s2">&quot;tfoot&quot;</span><span class="p">,</span> <span class="s2">&quot;ul&quot;</span><span class="p">,</span> <span class="s2">&quot;video&quot;</span><span class="p">])</span></tt>
            </div>
            <div id="l402"
               class="code sev- "><tt><i>402</i> &nbsp;</tt>
            </div>
            <div id="l403"
               class="code sev- "><tt><i>403</i>     <span class="c1"># These HTML tags need special treatment so they can be</span></tt>
            </div>
            <div id="l404"
               class="code sev- "><tt><i>404</i>     <span class="c1"># represented by a string class other than NavigableString.</span></tt>
            </div>
            <div id="l405"
               class="code sev- "><tt><i>405</i>     <span class="c1">#</span></tt>
            </div>
            <div id="l406"
               class="code sev- "><tt><i>406</i>     <span class="c1"># For some of these tags, it&#39;s because the HTML standard defines</span></tt>
            </div>
            <div id="l407"
               class="code sev- "><tt><i>407</i>     <span class="c1"># an unusual content model for them. I made this list by going</span></tt>
            </div>
            <div id="l408"
               class="code sev- "><tt><i>408</i>     <span class="c1"># through the HTML spec</span></tt>
            </div>
            <div id="l409"
               class="code sev- "><tt><i>409</i>     <span class="c1"># (https://html.spec.whatwg.org/#metadata-content) and looking for</span></tt>
            </div>
            <div id="l410"
               class="code sev- "><tt><i>410</i>     <span class="c1"># &quot;metadata content&quot; elements that can contain strings.</span></tt>
            </div>
            <div id="l411"
               class="code sev- "><tt><i>411</i>     <span class="c1">#</span></tt>
            </div>
            <div id="l412"
               class="code sev- "><tt><i>412</i>     <span class="c1"># The Ruby tags (&lt;rt&gt; and &lt;rp&gt;) are here despite being normal</span></tt>
            </div>
            <div id="l413"
               class="code sev- "><tt><i>413</i>     <span class="c1"># &quot;phrasing content&quot; tags, because the content they contain is</span></tt>
            </div>
            <div id="l414"
               class="code sev- "><tt><i>414</i>     <span class="c1"># qualitatively different from other text in the document, and it</span></tt>
            </div>
            <div id="l415"
               class="code sev- "><tt><i>415</i>     <span class="c1"># can be useful to be able to distinguish it.</span></tt>
            </div>
            <div id="l416"
               class="code sev- "><tt><i>416</i>     <span class="c1">#</span></tt>
            </div>
            <div id="l417"
               class="code sev- "><tt><i>417</i>     <span class="c1"># TODO: Arguably &lt;noscript&gt; could go here but it seems</span></tt>
            </div>
            <div id="l418"
               class="code sev- "><tt><i>418</i>     <span class="c1"># qualitatively different from the other tags.</span></tt>
            </div>
            <div id="l419"
               class="code sev- "><tt><i>419</i>     <span class="n">DEFAULT_STRING_CONTAINERS</span> <span class="o">=</span> <span class="p">{</span></tt>
            </div>
            <div id="l420"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E203
                     </span>
                     Whitespace before ':'</li>
               
               </ul><tt><i>420</i>         <span class="s1">&#39;rt&#39;</span> <span class="p">:</span> <span class="n">RubyTextString</span><span class="p">,</span></tt>
            </div>
            <div id="l421"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E203
                     </span>
                     Whitespace before ':'</li>
               
               </ul><tt><i>421</i>         <span class="s1">&#39;rp&#39;</span> <span class="p">:</span> <span class="n">RubyParenthesisString</span><span class="p">,</span></tt>
            </div>
            <div id="l422"
               class="code sev- "><tt><i>422</i>         <span class="s1">&#39;style&#39;</span><span class="p">:</span> <span class="n">Stylesheet</span><span class="p">,</span></tt>
            </div>
            <div id="l423"
               class="code sev- "><tt><i>423</i>         <span class="s1">&#39;script&#39;</span><span class="p">:</span> <span class="n">Script</span><span class="p">,</span></tt>
            </div>
            <div id="l424"
               class="code sev- "><tt><i>424</i>         <span class="s1">&#39;template&#39;</span><span class="p">:</span> <span class="n">TemplateString</span><span class="p">,</span></tt>
            </div>
            <div id="l425"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W291
                     </span>
                     Trailing whitespace</li>
               
               </ul><tt><i>425</i>     <span class="p">}</span>    </tt>
            </div>
            <div id="l426"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W293
                     </span>
                     Blank line contains whitespace</li>
               
               </ul><tt><i>426</i>     </tt>
            </div>
            <div id="l427"
               class="code sev- "><tt><i>427</i>     <span class="c1"># The HTML standard defines these attributes as containing a</span></tt>
            </div>
            <div id="l428"
               class="code sev- "><tt><i>428</i>     <span class="c1"># space-separated list of values, not a single value. That is,</span></tt>
            </div>
            <div id="l429"
               class="code sev- "><tt><i>429</i>     <span class="c1"># class=&quot;foo bar&quot; means that the &#39;class&#39; attribute has two values,</span></tt>
            </div>
            <div id="l430"
               class="code sev- "><tt><i>430</i>     <span class="c1"># &#39;foo&#39; and &#39;bar&#39;, not the single value &#39;foo bar&#39;.  When we</span></tt>
            </div>
            <div id="l431"
               class="code sev- "><tt><i>431</i>     <span class="c1"># encounter one of these attributes, we will parse its value into</span></tt>
            </div>
            <div id="l432"
               class="code sev- "><tt><i>432</i>     <span class="c1"># a list of values if possible. Upon output, the list will be</span></tt>
            </div>
            <div id="l433"
               class="code sev- "><tt><i>433</i>     <span class="c1"># converted back into a string.</span></tt>
            </div>
            <div id="l434"
               class="code sev- "><tt><i>434</i>     <span class="n">DEFAULT_CDATA_LIST_ATTRIBUTES</span> <span class="o">=</span> <span class="p">{</span></tt>
            </div>
            <div id="l435"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E203
                     </span>
                     Whitespace before ':'</li>
               
               </ul><tt><i>435</i>         <span class="s2">&quot;*&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;accesskey&#39;</span><span class="p">,</span> <span class="s1">&#39;dropzone&#39;</span><span class="p">],</span></tt>
            </div>
            <div id="l436"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E203
                     </span>
                     Whitespace before ':'</li>
               
               </ul><tt><i>436</i>         <span class="s2">&quot;a&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s1">&#39;rel&#39;</span><span class="p">,</span> <span class="s1">&#39;rev&#39;</span><span class="p">],</span></tt>
            </div>
            <div id="l437"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E203
                     </span>
                     Whitespace before ':'</li>
               
               </ul><tt><i>437</i>         <span class="s2">&quot;link&quot;</span> <span class="p">:</span>  <span class="p">[</span><span class="s1">&#39;rel&#39;</span><span class="p">,</span> <span class="s1">&#39;rev&#39;</span><span class="p">],</span></tt>
            </div>
            <div id="l438"
               class="code sev-1  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-1">
                        F601
                     </span>
                     Dictionary key 'td' repeated with different values</li>
               
                  <li>
                     <span class="count sev-2">
                        E203
                     </span>
                     Whitespace before ':'</li>
               
               </ul><tt><i>438</i>         <span class="s2">&quot;td&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;headers&quot;</span><span class="p">],</span></tt>
            </div>
            <div id="l439"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E203
                     </span>
                     Whitespace before ':'</li>
               
               </ul><tt><i>439</i>         <span class="s2">&quot;th&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;headers&quot;</span><span class="p">],</span></tt>
            </div>
            <div id="l440"
               class="code sev-1  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-1">
                        F601
                     </span>
                     Dictionary key 'td' repeated with different values</li>
               
                  <li>
                     <span class="count sev-2">
                        E203
                     </span>
                     Whitespace before ':'</li>
               
               </ul><tt><i>440</i>         <span class="s2">&quot;td&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;headers&quot;</span><span class="p">],</span></tt>
            </div>
            <div id="l441"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E203
                     </span>
                     Whitespace before ':'</li>
               
               </ul><tt><i>441</i>         <span class="s2">&quot;form&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;accept-charset&quot;</span><span class="p">],</span></tt>
            </div>
            <div id="l442"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E203
                     </span>
                     Whitespace before ':'</li>
               
               </ul><tt><i>442</i>         <span class="s2">&quot;object&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;archive&quot;</span><span class="p">],</span></tt>
            </div>
            <div id="l443"
               class="code sev- "><tt><i>443</i> &nbsp;</tt>
            </div>
            <div id="l444"
               class="code sev- "><tt><i>444</i>         <span class="c1"># These are HTML5 specific, as are *.accesskey and *.dropzone above.</span></tt>
            </div>
            <div id="l445"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E203
                     </span>
                     Whitespace before ':'</li>
               
               </ul><tt><i>445</i>         <span class="s2">&quot;area&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;rel&quot;</span><span class="p">],</span></tt>
            </div>
            <div id="l446"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E203
                     </span>
                     Whitespace before ':'</li>
               
               </ul><tt><i>446</i>         <span class="s2">&quot;icon&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;sizes&quot;</span><span class="p">],</span></tt>
            </div>
            <div id="l447"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E203
                     </span>
                     Whitespace before ':'</li>
               
               </ul><tt><i>447</i>         <span class="s2">&quot;iframe&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;sandbox&quot;</span><span class="p">],</span></tt>
            </div>
            <div id="l448"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E203
                     </span>
                     Whitespace before ':'</li>
               
               </ul><tt><i>448</i>         <span class="s2">&quot;output&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;for&quot;</span><span class="p">],</span></tt>
            </div>
            <div id="l449"
               class="code sev- "><tt><i>449</i>         <span class="p">}</span></tt>
            </div>
            <div id="l450"
               class="code sev- "><tt><i>450</i> &nbsp;</tt>
            </div>
            <div id="l451"
               class="code sev- "><tt><i>451</i>     <span class="n">DEFAULT_PRESERVE_WHITESPACE_TAGS</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;pre&#39;</span><span class="p">,</span> <span class="s1">&#39;textarea&#39;</span><span class="p">])</span></tt>
            </div>
            <div id="l452"
               class="code sev- "><tt><i>452</i> &nbsp;</tt>
            </div>
            <div id="l453"
               class="code sev- "><tt><i>453</i>     <span class="k">def</span> <span class="nf">set_up_substitutions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">):</span></tt>
            </div>
            <div id="l454"
               class="code sev- "><tt><i>454</i> <span class="w">        </span><span class="sd">&quot;&quot;&quot;Replace the declared encoding in a &lt;meta&gt; tag with a placeholder,</span></tt>
            </div>
            <div id="l455"
               class="code sev- "><tt><i>455</i> <span class="sd">        to be substituted when the tag is output to a string.</span></tt>
            </div>
            <div id="l456"
               class="code sev- "><tt><i>456</i> &nbsp;</tt>
            </div>
            <div id="l457"
               class="code sev- "><tt><i>457</i> <span class="sd">        An HTML document may come in to Beautiful Soup as one</span></tt>
            </div>
            <div id="l458"
               class="code sev- "><tt><i>458</i> <span class="sd">        encoding, but exit in a different encoding, and the &lt;meta&gt; tag</span></tt>
            </div>
            <div id="l459"
               class="code sev- "><tt><i>459</i> <span class="sd">        needs to be changed to reflect this.</span></tt>
            </div>
            <div id="l460"
               class="code sev- "><tt><i>460</i> &nbsp;</tt>
            </div>
            <div id="l461"
               class="code sev- "><tt><i>461</i> <span class="sd">        :param tag: A `Tag`</span></tt>
            </div>
            <div id="l462"
               class="code sev- "><tt><i>462</i> <span class="sd">        :return: Whether or not a substitution was performed.</span></tt>
            </div>
            <div id="l463"
               class="code sev- "><tt><i>463</i> <span class="sd">        &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l464"
               class="code sev- "><tt><i>464</i>         <span class="c1"># We are only interested in &lt;meta&gt; tags</span></tt>
            </div>
            <div id="l465"
               class="code sev- "><tt><i>465</i>         <span class="k">if</span> <span class="n">tag</span><span class="o">.</span><span class="n">name</span> <span class="o">!=</span> <span class="s1">&#39;meta&#39;</span><span class="p">:</span></tt>
            </div>
            <div id="l466"
               class="code sev- "><tt><i>466</i>             <span class="k">return</span> <span class="kc">False</span></tt>
            </div>
            <div id="l467"
               class="code sev- "><tt><i>467</i> &nbsp;</tt>
            </div>
            <div id="l468"
               class="code sev- "><tt><i>468</i>         <span class="n">http_equiv</span> <span class="o">=</span> <span class="n">tag</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http-equiv&#39;</span><span class="p">)</span></tt>
            </div>
            <div id="l469"
               class="code sev- "><tt><i>469</i>         <span class="n">content</span> <span class="o">=</span> <span class="n">tag</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;content&#39;</span><span class="p">)</span></tt>
            </div>
            <div id="l470"
               class="code sev- "><tt><i>470</i>         <span class="n">charset</span> <span class="o">=</span> <span class="n">tag</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;charset&#39;</span><span class="p">)</span></tt>
            </div>
            <div id="l471"
               class="code sev- "><tt><i>471</i> &nbsp;</tt>
            </div>
            <div id="l472"
               class="code sev- "><tt><i>472</i>         <span class="c1"># We are interested in &lt;meta&gt; tags that say what encoding the</span></tt>
            </div>
            <div id="l473"
               class="code sev- "><tt><i>473</i>         <span class="c1"># document was originally in. This means HTML 5-style &lt;meta&gt;</span></tt>
            </div>
            <div id="l474"
               class="code sev- "><tt><i>474</i>         <span class="c1"># tags that provide the &quot;charset&quot; attribute. It also means</span></tt>
            </div>
            <div id="l475"
               class="code sev- "><tt><i>475</i>         <span class="c1"># HTML 4-style &lt;meta&gt; tags that provide the &quot;content&quot;</span></tt>
            </div>
            <div id="l476"
               class="code sev- "><tt><i>476</i>         <span class="c1"># attribute and have &quot;http-equiv&quot; set to &quot;content-type&quot;.</span></tt>
            </div>
            <div id="l477"
               class="code sev- "><tt><i>477</i>         <span class="c1">#</span></tt>
            </div>
            <div id="l478"
               class="code sev- "><tt><i>478</i>         <span class="c1"># In both cases we will replace the value of the appropriate</span></tt>
            </div>
            <div id="l479"
               class="code sev- "><tt><i>479</i>         <span class="c1"># attribute with a standin object that can take on any</span></tt>
            </div>
            <div id="l480"
               class="code sev- "><tt><i>480</i>         <span class="c1"># encoding.</span></tt>
            </div>
            <div id="l481"
               class="code sev- "><tt><i>481</i>         <span class="n">meta_encoding</span> <span class="o">=</span> <span class="kc">None</span></tt>
            </div>
            <div id="l482"
               class="code sev- "><tt><i>482</i>         <span class="k">if</span> <span class="n">charset</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span></tt>
            </div>
            <div id="l483"
               class="code sev- "><tt><i>483</i>             <span class="c1"># HTML 5 style:</span></tt>
            </div>
            <div id="l484"
               class="code sev- "><tt><i>484</i>             <span class="c1"># &lt;meta charset=&quot;utf8&quot;&gt;</span></tt>
            </div>
            <div id="l485"
               class="code sev- "><tt><i>485</i>             <span class="n">meta_encoding</span> <span class="o">=</span> <span class="n">charset</span></tt>
            </div>
            <div id="l486"
               class="code sev- "><tt><i>486</i>             <span class="n">tag</span><span class="p">[</span><span class="s1">&#39;charset&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">CharsetMetaAttributeValue</span><span class="p">(</span><span class="n">charset</span><span class="p">)</span></tt>
            </div>
            <div id="l487"
               class="code sev- "><tt><i>487</i> &nbsp;</tt>
            </div>
            <div id="l488"
               class="code sev- "><tt><i>488</i>         <span class="k">elif</span> <span class="p">(</span><span class="n">content</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">http_equiv</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span></tt>
            </div>
            <div id="l489"
               class="code sev- "><tt><i>489</i>               <span class="ow">and</span> <span class="n">http_equiv</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;content-type&#39;</span><span class="p">):</span></tt>
            </div>
            <div id="l490"
               class="code sev- "><tt><i>490</i>             <span class="c1"># HTML 4 style:</span></tt>
            </div>
            <div id="l491"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E501
                     </span>
                     Line too long (80 > 79 characters)</li>
               
               </ul><tt><i>491</i>             <span class="c1"># &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf8&quot;&gt;</span></tt>
            </div>
            <div id="l492"
               class="code sev- "><tt><i>492</i>             <span class="n">tag</span><span class="p">[</span><span class="s1">&#39;content&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ContentMetaAttributeValue</span><span class="p">(</span><span class="n">content</span><span class="p">)</span></tt>
            </div>
            <div id="l493"
               class="code sev- "><tt><i>493</i> &nbsp;</tt>
            </div>
            <div id="l494"
               class="code sev- "><tt><i>494</i>         <span class="k">return</span> <span class="p">(</span><span class="n">meta_encoding</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">)</span></tt>
            </div>
            <div id="l495"
               class="code sev- "><tt><i>495</i> &nbsp;</tt>
            </div>
            <div id="l496"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E302
                     </span>
                     Expected 2 blank lines, found 1</li>
               
               </ul><tt><i>496</i> <span class="k">class</span> <span class="nc">DetectsXMLParsedAsHTML</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span></tt>
            </div>
            <div id="l497"
               class="code sev- "><tt><i>497</i> <span class="w">    </span><span class="sd">&quot;&quot;&quot;A mixin class for any class (a TreeBuilder, or some class used by a</span></tt>
            </div>
            <div id="l498"
               class="code sev- "><tt><i>498</i> <span class="sd">    TreeBuilder) that&#39;s in a position to detect whether an XML</span></tt>
            </div>
            <div id="l499"
               class="code sev- "><tt><i>499</i> <span class="sd">    document is being incorrectly parsed as HTML, and issue an</span></tt>
            </div>
            <div id="l500"
               class="code sev- "><tt><i>500</i> <span class="sd">    appropriate warning.</span></tt>
            </div>
            <div id="l501"
               class="code sev- "><tt><i>501</i> &nbsp;</tt>
            </div>
            <div id="l502"
               class="code sev- "><tt><i>502</i> <span class="sd">    This requires being able to observe an incoming processing</span></tt>
            </div>
            <div id="l503"
               class="code sev- "><tt><i>503</i> <span class="sd">    instruction that might be an XML declaration, and also able to</span></tt>
            </div>
            <div id="l504"
               class="code sev- "><tt><i>504</i> <span class="sd">    observe tags as they&#39;re opened. If you can&#39;t do that for a given</span></tt>
            </div>
            <div id="l505"
               class="code sev- "><tt><i>505</i> <span class="sd">    TreeBuilder, there&#39;s a less reliable implementation based on</span></tt>
            </div>
            <div id="l506"
               class="code sev- "><tt><i>506</i> <span class="sd">    examining the raw markup.</span></tt>
            </div>
            <div id="l507"
               class="code sev- "><tt><i>507</i> <span class="sd">    &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l508"
               class="code sev- "><tt><i>508</i> &nbsp;</tt>
            </div>
            <div id="l509"
               class="code sev- "><tt><i>509</i>     <span class="c1"># Regular expression for seeing if markup has an &lt;html&gt; tag.</span></tt>
            </div>
            <div id="l510"
               class="code sev- "><tt><i>510</i>     <span class="n">LOOKS_LIKE_HTML</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;&lt;[^ +]html&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span></tt>
            </div>
            <div id="l511"
               class="code sev- "><tt><i>511</i>     <span class="n">LOOKS_LIKE_HTML_B</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;&lt;[^ +]html&quot;</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span></tt>
            </div>
            <div id="l512"
               class="code sev- "><tt><i>512</i> &nbsp;</tt>
            </div>
            <div id="l513"
               class="code sev- "><tt><i>513</i>     <span class="n">XML_PREFIX</span> <span class="o">=</span> <span class="s1">&#39;&lt;?xml&#39;</span></tt>
            </div>
            <div id="l514"
               class="code sev- "><tt><i>514</i>     <span class="n">XML_PREFIX_B</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;&lt;?xml&#39;</span></tt>
            </div>
            <div id="l515"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W293
                     </span>
                     Blank line contains whitespace</li>
               
               </ul><tt><i>515</i>     </tt>
            </div>
            <div id="l516"
               class="code sev- "><tt><i>516</i>     <span class="nd">@classmethod</span></tt>
            </div>
            <div id="l517"
               class="code sev- "><tt><i>517</i>     <span class="k">def</span> <span class="nf">warn_if_markup_looks_like_xml</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">markup</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span></tt>
            </div>
            <div id="l518"
               class="code sev- "><tt><i>518</i> <span class="w">        </span><span class="sd">&quot;&quot;&quot;Perform a check on some markup to see if it looks like XML</span></tt>
            </div>
            <div id="l519"
               class="code sev- "><tt><i>519</i> <span class="sd">        that&#39;s not XHTML. If so, issue a warning.</span></tt>
            </div>
            <div id="l520"
               class="code sev- "><tt><i>520</i> &nbsp;</tt>
            </div>
            <div id="l521"
               class="code sev- "><tt><i>521</i> <span class="sd">        This is much less reliable than doing the check while parsing,</span></tt>
            </div>
            <div id="l522"
               class="code sev- "><tt><i>522</i> <span class="sd">        but some of the tree builders can&#39;t do that.</span></tt>
            </div>
            <div id="l523"
               class="code sev- "><tt><i>523</i> &nbsp;</tt>
            </div>
            <div id="l524"
               class="code sev- "><tt><i>524</i> <span class="sd">        :param stacklevel: The stacklevel of the code calling this</span></tt>
            </div>
            <div id="l525"
               class="code sev- "><tt><i>525</i> <span class="sd">        function.</span></tt>
            </div>
            <div id="l526"
               class="code sev- "><tt><i>526</i> &nbsp;</tt>
            </div>
            <div id="l527"
               class="code sev- "><tt><i>527</i> <span class="sd">        :return: True if the markup looks like non-XHTML XML, False</span></tt>
            </div>
            <div id="l528"
               class="code sev- "><tt><i>528</i> <span class="sd">        otherwise.</span></tt>
            </div>
            <div id="l529"
               class="code sev- "><tt><i>529</i> &nbsp;</tt>
            </div>
            <div id="l530"
               class="code sev- "><tt><i>530</i> <span class="sd">        &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l531"
               class="code sev- "><tt><i>531</i>         <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">markup</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">):</span></tt>
            </div>
            <div id="l532"
               class="code sev- "><tt><i>532</i>             <span class="n">prefix</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">XML_PREFIX_B</span></tt>
            </div>
            <div id="l533"
               class="code sev- "><tt><i>533</i>             <span class="n">looks_like_html</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">LOOKS_LIKE_HTML_B</span></tt>
            </div>
            <div id="l534"
               class="code sev- "><tt><i>534</i>         <span class="k">else</span><span class="p">:</span></tt>
            </div>
            <div id="l535"
               class="code sev- "><tt><i>535</i>             <span class="n">prefix</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">XML_PREFIX</span></tt>
            </div>
            <div id="l536"
               class="code sev- "><tt><i>536</i>             <span class="n">looks_like_html</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">LOOKS_LIKE_HTML</span></tt>
            </div>
            <div id="l537"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W293
                     </span>
                     Blank line contains whitespace</li>
               
               </ul><tt><i>537</i>         </tt>
            </div>
            <div id="l538"
               class="code sev- "><tt><i>538</i>         <span class="k">if</span> <span class="p">(</span><span class="n">markup</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span></tt>
            </div>
            <div id="l539"
               class="code sev- "><tt><i>539</i>             <span class="ow">and</span> <span class="n">markup</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span></tt>
            </div>
            <div id="l540"
               class="code sev- "><tt><i>540</i>             <span class="ow">and</span> <span class="ow">not</span> <span class="n">looks_like_html</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">markup</span><span class="p">[:</span><span class="mi">500</span><span class="p">])</span></tt>
            </div>
            <div id="l541"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E124
                     </span>
                     Closing bracket does not match visual indentation</li>
               
               </ul><tt><i>541</i>         <span class="p">):</span></tt>
            </div>
            <div id="l542"
               class="code sev- "><tt><i>542</i>             <span class="bp">cls</span><span class="o">.</span><span class="n">_warn</span><span class="p">(</span><span class="n">stacklevel</span><span class="o">=</span><span class="n">stacklevel</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span></tt>
            </div>
            <div id="l543"
               class="code sev- "><tt><i>543</i>             <span class="k">return</span> <span class="kc">True</span></tt>
            </div>
            <div id="l544"
               class="code sev- "><tt><i>544</i>         <span class="k">return</span> <span class="kc">False</span></tt>
            </div>
            <div id="l545"
               class="code sev- "><tt><i>545</i> &nbsp;</tt>
            </div>
            <div id="l546"
               class="code sev- "><tt><i>546</i>     <span class="nd">@classmethod</span></tt>
            </div>
            <div id="l547"
               class="code sev- "><tt><i>547</i>     <span class="k">def</span> <span class="nf">_warn</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span></tt>
            </div>
            <div id="l548"
               class="code sev- "><tt><i>548</i> <span class="w">        </span><span class="sd">&quot;&quot;&quot;Issue a warning about XML being parsed as HTML.&quot;&quot;&quot;</span></tt>
            </div>
            <div id="l549"
               class="code sev- "><tt><i>549</i>         <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span></tt>
            </div>
            <div id="l550"
               class="code sev- "><tt><i>550</i>             <span class="n">XMLParsedAsHTMLWarning</span><span class="o">.</span><span class="n">MESSAGE</span><span class="p">,</span> <span class="n">XMLParsedAsHTMLWarning</span><span class="p">,</span></tt>
            </div>
            <div id="l551"
               class="code sev- "><tt><i>551</i>             <span class="n">stacklevel</span><span class="o">=</span><span class="n">stacklevel</span></tt>
            </div>
            <div id="l552"
               class="code sev- "><tt><i>552</i>         <span class="p">)</span></tt>
            </div>
            <div id="l553"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W293
                     </span>
                     Blank line contains whitespace</li>
               
               </ul><tt><i>553</i>         </tt>
            </div>
            <div id="l554"
               class="code sev- "><tt><i>554</i>     <span class="k">def</span> <span class="nf">_initialize_xml_detector</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></tt>
            </div>
            <div id="l555"
               class="code sev- "><tt><i>555</i> <span class="w">        </span><span class="sd">&quot;&quot;&quot;Call this method before parsing a document.&quot;&quot;&quot;</span></tt>
            </div>
            <div id="l556"
               class="code sev- "><tt><i>556</i>         <span class="bp">self</span><span class="o">.</span><span class="n">_first_processing_instruction</span> <span class="o">=</span> <span class="kc">None</span></tt>
            </div>
            <div id="l557"
               class="code sev- "><tt><i>557</i>         <span class="bp">self</span><span class="o">.</span><span class="n">_root_tag</span> <span class="o">=</span> <span class="kc">None</span></tt>
            </div>
            <div id="l558"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W293
                     </span>
                     Blank line contains whitespace</li>
               
               </ul><tt><i>558</i>        </tt>
            </div>
            <div id="l559"
               class="code sev- "><tt><i>559</i>     <span class="k">def</span> <span class="nf">_document_might_be_xml</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">processing_instruction</span><span class="p">):</span></tt>
            </div>
            <div id="l560"
               class="code sev- "><tt><i>560</i> <span class="w">        </span><span class="sd">&quot;&quot;&quot;Call this method when encountering an XML declaration, or a</span></tt>
            </div>
            <div id="l561"
               class="code sev- "><tt><i>561</i> <span class="sd">        &quot;processing instruction&quot; that might be an XML declaration.</span></tt>
            </div>
            <div id="l562"
               class="code sev- "><tt><i>562</i> <span class="sd">        &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l563"
               class="code sev- "><tt><i>563</i>         <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_first_processing_instruction</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span></tt>
            </div>
            <div id="l564"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E129
                     </span>
                     Visually indented line with same indent as next logical line</li>
               
               </ul><tt><i>564</i>             <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_root_tag</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">):</span></tt>
            </div>
            <div id="l565"
               class="code sev- "><tt><i>565</i>             <span class="c1"># The document has already started. Don&#39;t bother checking</span></tt>
            </div>
            <div id="l566"
               class="code sev- "><tt><i>566</i>             <span class="c1"># anymore.</span></tt>
            </div>
            <div id="l567"
               class="code sev- "><tt><i>567</i>             <span class="k">return</span></tt>
            </div>
            <div id="l568"
               class="code sev- "><tt><i>568</i> &nbsp;</tt>
            </div>
            <div id="l569"
               class="code sev- "><tt><i>569</i>         <span class="bp">self</span><span class="o">.</span><span class="n">_first_processing_instruction</span> <span class="o">=</span> <span class="n">processing_instruction</span></tt>
            </div>
            <div id="l570"
               class="code sev- "><tt><i>570</i> &nbsp;</tt>
            </div>
            <div id="l571"
               class="code sev- "><tt><i>571</i>         <span class="c1"># We won&#39;t know until we encounter the first tag whether or</span></tt>
            </div>
            <div id="l572"
               class="code sev- "><tt><i>572</i>         <span class="c1"># not this is actually a problem.</span></tt>
            </div>
            <div id="l573"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W293
                     </span>
                     Blank line contains whitespace</li>
               
               </ul><tt><i>573</i>         </tt>
            </div>
            <div id="l574"
               class="code sev- "><tt><i>574</i>     <span class="k">def</span> <span class="nf">_root_tag_encountered</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span></tt>
            </div>
            <div id="l575"
               class="code sev- "><tt><i>575</i> <span class="w">        </span><span class="sd">&quot;&quot;&quot;Call this when you encounter the document&#39;s root tag.</span></tt>
            </div>
            <div id="l576"
               class="code sev- "><tt><i>576</i> &nbsp;</tt>
            </div>
            <div id="l577"
               class="code sev- "><tt><i>577</i> <span class="sd">        This is where we actually check whether an XML document is</span></tt>
            </div>
            <div id="l578"
               class="code sev- "><tt><i>578</i> <span class="sd">        being incorrectly parsed as HTML, and issue the warning.</span></tt>
            </div>
            <div id="l579"
               class="code sev- "><tt><i>579</i> <span class="sd">        &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l580"
               class="code sev- "><tt><i>580</i>         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_root_tag</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span></tt>
            </div>
            <div id="l581"
               class="code sev- "><tt><i>581</i>             <span class="c1"># This method was incorrectly called multiple times. Do</span></tt>
            </div>
            <div id="l582"
               class="code sev- "><tt><i>582</i>             <span class="c1"># nothing.</span></tt>
            </div>
            <div id="l583"
               class="code sev- "><tt><i>583</i>             <span class="k">return</span></tt>
            </div>
            <div id="l584"
               class="code sev- "><tt><i>584</i> &nbsp;</tt>
            </div>
            <div id="l585"
               class="code sev- "><tt><i>585</i>         <span class="bp">self</span><span class="o">.</span><span class="n">_root_tag</span> <span class="o">=</span> <span class="n">name</span></tt>
            </div>
            <div id="l586"
               class="code sev- "><tt><i>586</i>         <span class="k">if</span> <span class="p">(</span><span class="n">name</span> <span class="o">!=</span> <span class="s1">&#39;html&#39;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_first_processing_instruction</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span></tt>
            </div>
            <div id="l587"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E129
                     </span>
                     Visually indented line with same indent as next logical line</li>
               
               </ul><tt><i>587</i>             <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_first_processing_instruction</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;xml &#39;</span><span class="p">)):</span></tt>
            </div>
            <div id="l588"
               class="code sev- "><tt><i>588</i>             <span class="c1"># We encountered an XML declaration and then a tag other</span></tt>
            </div>
            <div id="l589"
               class="code sev- "><tt><i>589</i>             <span class="c1"># than &#39;html&#39;. This is a reliable indicator that a</span></tt>
            </div>
            <div id="l590"
               class="code sev- "><tt><i>590</i>             <span class="c1"># non-XHTML document is being parsed as XML.</span></tt>
            </div>
            <div id="l591"
               class="code sev- "><tt><i>591</i>             <span class="bp">self</span><span class="o">.</span><span class="n">_warn</span><span class="p">()</span></tt>
            </div>
            <div id="l592"
               class="code sev- "><tt><i>592</i> &nbsp;</tt>
            </div>
            <div id="l593"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W293
                     </span>
                     Blank line contains whitespace</li>
               
               </ul><tt><i>593</i>     </tt>
            </div>
            <div id="l594"
               class="code sev- "><tt><i>594</i> <span class="k">def</span> <span class="nf">register_treebuilders_from</span><span class="p">(</span><span class="n">module</span><span class="p">):</span></tt>
            </div>
            <div id="l595"
               class="code sev- "><tt><i>595</i> <span class="w">    </span><span class="sd">&quot;&quot;&quot;Copy TreeBuilders from the given module into this module.&quot;&quot;&quot;</span></tt>
            </div>
            <div id="l596"
               class="code sev- "><tt><i>596</i>     <span class="n">this_module</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="vm">__name__</span><span class="p">]</span></tt>
            </div>
            <div id="l597"
               class="code sev- "><tt><i>597</i>     <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">module</span><span class="o">.</span><span class="n">__all__</span><span class="p">:</span></tt>
            </div>
            <div id="l598"
               class="code sev- "><tt><i>598</i>         <span class="n">obj</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">module</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span></tt>
            </div>
            <div id="l599"
               class="code sev- "><tt><i>599</i> &nbsp;</tt>
            </div>
            <div id="l600"
               class="code sev- "><tt><i>600</i>         <span class="k">if</span> <span class="nb">issubclass</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">TreeBuilder</span><span class="p">):</span></tt>
            </div>
            <div id="l601"
               class="code sev- "><tt><i>601</i>             <span class="nb">setattr</span><span class="p">(</span><span class="n">this_module</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span></tt>
            </div>
            <div id="l602"
               class="code sev- "><tt><i>602</i>             <span class="n">this_module</span><span class="o">.</span><span class="n">__all__</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span></tt>
            </div>
            <div id="l603"
               class="code sev- "><tt><i>603</i>             <span class="c1"># Register the builder while we&#39;re at it.</span></tt>
            </div>
            <div id="l604"
               class="code sev- "><tt><i>604</i>             <span class="n">this_module</span><span class="o">.</span><span class="n">builder_registry</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span></tt>
            </div>
            <div id="l605"
               class="code sev- "><tt><i>605</i> &nbsp;</tt>
            </div>
            <div id="l606"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E302
                     </span>
                     Expected 2 blank lines, found 1</li>
               
               </ul><tt><i>606</i> <span class="k">class</span> <span class="nc">ParserRejectedMarkup</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span></tt>
            </div>
            <div id="l607"
               class="code sev- "><tt><i>607</i> <span class="w">    </span><span class="sd">&quot;&quot;&quot;An Exception to be raised when the underlying parser simply</span></tt>
            </div>
            <div id="l608"
               class="code sev- "><tt><i>608</i> <span class="sd">    refuses to parse the given markup.</span></tt>
            </div>
            <div id="l609"
               class="code sev- "><tt><i>609</i> <span class="sd">    &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l610"
               class="code sev- "><tt><i>610</i>     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message_or_exception</span><span class="p">):</span></tt>
            </div>
            <div id="l611"
               class="code sev- "><tt><i>611</i> <span class="w">        </span><span class="sd">&quot;&quot;&quot;Explain why the parser rejected the given markup, either</span></tt>
            </div>
            <div id="l612"
               class="code sev- "><tt><i>612</i> <span class="sd">        with a textual explanation or another exception.</span></tt>
            </div>
            <div id="l613"
               class="code sev- "><tt><i>613</i> <span class="sd">        &quot;&quot;&quot;</span></tt>
            </div>
            <div id="l614"
               class="code sev- "><tt><i>614</i>         <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">message_or_exception</span><span class="p">,</span> <span class="ne">Exception</span><span class="p">):</span></tt>
            </div>
            <div id="l615"
               class="code sev- "><tt><i>615</i>             <span class="n">e</span> <span class="o">=</span> <span class="n">message_or_exception</span></tt>
            </div>
            <div id="l616"
               class="code sev- "><tt><i>616</i>             <span class="n">message_or_exception</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span></tt>
            </div>
            <div id="l617"
               class="code sev- "><tt><i>617</i>         <span class="nb">super</span><span class="p">(</span><span class="n">ParserRejectedMarkup</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">message_or_exception</span><span class="p">)</span></tt>
            </div>
            <div id="l618"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        W293
                     </span>
                     Blank line contains whitespace</li>
               
               </ul><tt><i>618</i>             </tt>
            </div>
            <div id="l619"
               class="code sev- "><tt><i>619</i> <span class="c1"># Builders are registered in reverse order of priority, so that custom</span></tt>
            </div>
            <div id="l620"
               class="code sev- "><tt><i>620</i> <span class="c1"># builder registrations will take precedence. In general, we want lxml</span></tt>
            </div>
            <div id="l621"
               class="code sev- "><tt><i>621</i> <span class="c1"># to take precedence over html5lib, because it&#39;s faster. And we only</span></tt>
            </div>
            <div id="l622"
               class="code sev- "><tt><i>622</i> <span class="c1"># want to use HTMLParser as a last resort.</span></tt>
            </div>
            <div id="l623"
               class="code sev-2  le">
               <ul class="violations">
               
                  <li>
                     <span class="count sev-2">
                        E305
                     </span>
                     Expected 2 blank lines after class or function definition, found 1</li>
               
                  <li>
                     <span class="count sev-2">
                        E402
                     </span>
                     Module level import not at top of file</li>
               
               </ul><tt><i>623</i> <span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">_htmlparser</span></tt>
            </div>
            <div id="l624"
               class="code sev- "><tt><i>624</i> <span class="n">register_treebuilders_from</span><span class="p">(</span><span class="n">_htmlparser</span><span class="p">)</span></tt>
            </div>
            <div id="l625"
               class="code sev- "><tt><i>625</i> <span class="k">try</span><span class="p">:</span></tt>
            </div>
            <div id="l626"
               class="code sev- "><tt><i>626</i>     <span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">_html5lib</span></tt>
            </div>
            <div id="l627"
               class="code sev- "><tt><i>627</i>     <span class="n">register_treebuilders_from</span><span class="p">(</span><span class="n">_html5lib</span><span class="p">)</span></tt>
            </div>
            <div id="l628"
               class="code sev- "><tt><i>628</i> <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span></tt>
            </div>
            <div id="l629"
               class="code sev- "><tt><i>629</i>     <span class="c1"># They don&#39;t have html5lib installed.</span></tt>
            </div>
            <div id="l630"
               class="code sev- "><tt><i>630</i>     <span class="k">pass</span></tt>
            </div>
            <div id="l631"
               class="code sev- "><tt><i>631</i> <span class="k">try</span><span class="p">:</span></tt>
            </div>
            <div id="l632"
               class="code sev- "><tt><i>632</i>     <span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">_lxml</span></tt>
            </div>
            <div id="l633"
               class="code sev- "><tt><i>633</i>     <span class="n">register_treebuilders_from</span><span class="p">(</span><span class="n">_lxml</span><span class="p">)</span></tt>
            </div>
            <div id="l634"
               class="code sev- "><tt><i>634</i> <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span></tt>
            </div>
            <div id="l635"
               class="code sev- "><tt><i>635</i>     <span class="c1"># They don&#39;t have lxml installed.</span></tt>
            </div>
            <div id="l636"
               class="code sev- "><tt><i>636</i>     <span class="k">pass</span></tt>
            </div>
            
         </div>
      </div>
   </body>
</html>